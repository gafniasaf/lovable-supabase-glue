"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_lib_testStore_ts";
exports.ids = ["_rsc_src_lib_testStore_ts"];
exports.modules = {

/***/ "(rsc)/./src/lib/testStore.ts":
/*!******************************!*\
  !*** ./src/lib/testStore.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addChoice: () => (/* binding */ addChoice),\n/* harmony export */   addQuestion: () => (/* binding */ addQuestion),\n/* harmony export */   addQuiz: () => (/* binding */ addQuiz),\n/* harmony export */   addTestAnnouncement: () => (/* binding */ addTestAnnouncement),\n/* harmony export */   addTestAssignment: () => (/* binding */ addTestAssignment),\n/* harmony export */   addTestCourse: () => (/* binding */ addTestCourse),\n/* harmony export */   addTestEnrollment: () => (/* binding */ addTestEnrollment),\n/* harmony export */   addTestFile: () => (/* binding */ addTestFile),\n/* harmony export */   addTestLesson: () => (/* binding */ addTestLesson),\n/* harmony export */   addTestMessage: () => (/* binding */ addTestMessage),\n/* harmony export */   addTestModule: () => (/* binding */ addTestModule),\n/* harmony export */   addTestNotification: () => (/* binding */ addTestNotification),\n/* harmony export */   addTestParentLink: () => (/* binding */ addTestParentLink),\n/* harmony export */   addTestSubmission: () => (/* binding */ addTestSubmission),\n/* harmony export */   countUnreadForThread: () => (/* binding */ countUnreadForThread),\n/* harmony export */   createTestThread: () => (/* binding */ createTestThread),\n/* harmony export */   deleteQuiz: () => (/* binding */ deleteQuiz),\n/* harmony export */   deleteTestAnnouncement: () => (/* binding */ deleteTestAnnouncement),\n/* harmony export */   deleteTestAssignment: () => (/* binding */ deleteTestAssignment),\n/* harmony export */   deleteTestCourse: () => (/* binding */ deleteTestCourse),\n/* harmony export */   deleteTestModule: () => (/* binding */ deleteTestModule),\n/* harmony export */   getAttemptForStudent: () => (/* binding */ getAttemptForStudent),\n/* harmony export */   getTestCourse: () => (/* binding */ getTestCourse),\n/* harmony export */   getTestFile: () => (/* binding */ getTestFile),\n/* harmony export */   getTestNotificationPreferences: () => (/* binding */ getTestNotificationPreferences),\n/* harmony export */   getTestProfile: () => (/* binding */ getTestProfile),\n/* harmony export */   gradeTestSubmission: () => (/* binding */ gradeTestSubmission),\n/* harmony export */   listAttemptsForQuiz: () => (/* binding */ listAttemptsForQuiz),\n/* harmony export */   listChoicesByQuestion: () => (/* binding */ listChoicesByQuestion),\n/* harmony export */   listQuestionsByQuiz: () => (/* binding */ listQuestionsByQuiz),\n/* harmony export */   listQuizzesByCourse: () => (/* binding */ listQuizzesByCourse),\n/* harmony export */   listTestAnnouncementsByCourse: () => (/* binding */ listTestAnnouncementsByCourse),\n/* harmony export */   listTestAssignmentsByCourse: () => (/* binding */ listTestAssignmentsByCourse),\n/* harmony export */   listTestCoursesByTeacher: () => (/* binding */ listTestCoursesByTeacher),\n/* harmony export */   listTestEnrollmentsByCourse: () => (/* binding */ listTestEnrollmentsByCourse),\n/* harmony export */   listTestEnrollmentsByStudent: () => (/* binding */ listTestEnrollmentsByStudent),\n/* harmony export */   listTestFeatureFlags: () => (/* binding */ listTestFeatureFlags),\n/* harmony export */   listTestLessonsByCourse: () => (/* binding */ listTestLessonsByCourse),\n/* harmony export */   listTestMessagesByThread: () => (/* binding */ listTestMessagesByThread),\n/* harmony export */   listTestModulesByCourse: () => (/* binding */ listTestModulesByCourse),\n/* harmony export */   listTestNotificationsByUser: () => (/* binding */ listTestNotificationsByUser),\n/* harmony export */   listTestParentChildren: () => (/* binding */ listTestParentChildren),\n/* harmony export */   listTestParentsForStudent: () => (/* binding */ listTestParentsForStudent),\n/* harmony export */   listTestParticipantsByThread: () => (/* binding */ listTestParticipantsByThread),\n/* harmony export */   listTestSubmissionsByAssignment: () => (/* binding */ listTestSubmissionsByAssignment),\n/* harmony export */   listTestThreadsByUser: () => (/* binding */ listTestThreadsByUser),\n/* harmony export */   markAllTestNotificationsRead: () => (/* binding */ markAllTestNotificationsRead),\n/* harmony export */   markAllThreadMessagesReadForUser: () => (/* binding */ markAllThreadMessagesReadForUser),\n/* harmony export */   markTestMessageReadForUser: () => (/* binding */ markTestMessageReadForUser),\n/* harmony export */   markTestNotificationRead: () => (/* binding */ markTestNotificationRead),\n/* harmony export */   removeTestParentLink: () => (/* binding */ removeTestParentLink),\n/* harmony export */   reorderTestLessons: () => (/* binding */ reorderTestLessons),\n/* harmony export */   resetTestStore: () => (/* binding */ resetTestStore),\n/* harmony export */   setTestFeatureFlag: () => (/* binding */ setTestFeatureFlag),\n/* harmony export */   setTestNotificationPreferences: () => (/* binding */ setTestNotificationPreferences),\n/* harmony export */   shouldDeliverTestNotification: () => (/* binding */ shouldDeliverTestNotification),\n/* harmony export */   startAttempt: () => (/* binding */ startAttempt),\n/* harmony export */   submitAttempt: () => (/* binding */ submitAttempt),\n/* harmony export */   updateQuiz: () => (/* binding */ updateQuiz),\n/* harmony export */   updateTestAssignment: () => (/* binding */ updateTestAssignment),\n/* harmony export */   updateTestModule: () => (/* binding */ updateTestModule),\n/* harmony export */   upsertAnswer: () => (/* binding */ upsertAnswer),\n/* harmony export */   upsertTestProfile: () => (/* binding */ upsertTestProfile)\n/* harmony export */ });\n/**\r\n * In-memory test store (dev/test only)\r\n *\r\n * Provides a lightweight, process-local data store used when `TEST_MODE`\r\n * is enabled. It simulates database behavior for e2e and unit tests, and\r\n * persists across Next.js HMR by attaching to `globalThis`.\r\n */ // Persist state across Next.js dev HMR by attaching to globalThis\nconst globalStore = globalThis;\nconst state = globalStore.__TEST_STORE__ || (globalStore.__TEST_STORE__ = {\n    courses: new Map(),\n    lessonsByCourse: new Map(),\n    modulesByCourse: new Map(),\n    enrollmentsByStudent: new Map(),\n    enrollmentsByCourse: new Map(),\n    profilesById: new Map(),\n    parentLinksByParent: new Map()\n});\n// Backfill maps if this module loaded after an older store shape was created (HMR during dev)\nconst anyState = state;\nif (!anyState.profilesById) anyState.profilesById = new Map();\nif (!anyState.parentLinksByParent) anyState.parentLinksByParent = new Map();\nif (!anyState.modulesByCourse) anyState.modulesByCourse = new Map();\nif (!anyState.assignmentsByCourse) anyState.assignmentsByCourse = new Map();\nif (!anyState.submissionsByAssignment) anyState.submissionsByAssignment = new Map();\n// Quizzes store maps (backfill if missing for HMR)\nif (!anyState.quizzesByCourse) anyState.quizzesByCourse = new Map();\nif (!anyState.questionsByQuiz) anyState.questionsByQuiz = new Map();\nif (!anyState.choicesByQuestion) anyState.choicesByQuestion = new Map();\nif (!anyState.attemptsByQuiz) anyState.attemptsByQuiz = new Map();\nif (!anyState.answersByAttempt) anyState.answersByAttempt = new Map();\nif (!anyState.announcementsByCourse) anyState.announcementsByCourse = new Map();\nif (!anyState.filesById) anyState.filesById = new Map();\n// Messaging maps\nif (!anyState.messageThreads) anyState.messageThreads = [];\nif (!anyState.participantsByThread) anyState.participantsByThread = new Map();\nif (!anyState.messagesByThread) anyState.messagesByThread = new Map();\nif (!anyState.readByMessage) anyState.readByMessage = new Map();\nif (!anyState.featureFlags) anyState.featureFlags = new Map();\nfunction addTestCourse(course) {\n    state.courses.set(course.id, course);\n}\nfunction getTestCourse(courseId) {\n    return state.courses.get(courseId);\n}\nfunction listTestCoursesByTeacher(teacherId) {\n    return Array.from(state.courses.values()).filter((c)=>c.teacher_id === teacherId);\n}\nfunction addTestLesson(lesson) {\n    const arr = state.lessonsByCourse.get(lesson.course_id) ?? [];\n    arr.push(lesson);\n    arr.sort((a, b)=>a.order_index - b.order_index);\n    state.lessonsByCourse.set(lesson.course_id, arr);\n}\nfunction listTestLessonsByCourse(courseId) {\n    return state.lessonsByCourse.get(courseId) ?? [];\n}\nfunction resetTestStore() {\n    state.courses.clear();\n    state.lessonsByCourse.clear();\n    state.modulesByCourse.clear();\n    state.enrollmentsByStudent.clear();\n    state.enrollmentsByCourse.clear();\n    state.parentLinksByParent.clear();\n    state.assignmentsByCourse?.clear?.();\n    state.submissionsByAssignment?.clear?.();\n    // Quizzes\n    state.quizzesByCourse?.clear?.();\n    state.questionsByQuiz?.clear?.();\n    state.choicesByQuestion?.clear?.();\n    state.attemptsByQuiz?.clear?.();\n    state.answersByAttempt?.clear?.();\n    state.announcementsByCourse?.clear?.();\n    state.messageThreads = [];\n    state.participantsByThread?.clear?.();\n    state.messagesByThread?.clear?.();\n    state.filesById?.clear?.();\n}\nfunction deleteTestCourse(courseId) {\n    state.courses.delete(courseId);\n    state.lessonsByCourse.delete(courseId);\n// Note: we intentionally do not clear enrollments to keep history unless needed\n}\nfunction reorderTestLessons(courseId, updates) {\n    const arr = state.lessonsByCourse.get(courseId) ?? [];\n    const byId = new Map(arr.map((l)=>[\n            l.id,\n            l\n        ]));\n    for (const u of updates){\n        const row = byId.get(u.id);\n        if (row) row.order_index = u.order_index;\n    }\n    arr.sort((a, b)=>a.order_index - b.order_index);\n    state.lessonsByCourse.set(courseId, arr);\n}\nfunction addTestModule(row) {\n    const arr = state.modulesByCourse.get(row.course_id) ?? [];\n    arr.push(row);\n    arr.sort((a, b)=>a.order_index - b.order_index);\n    state.modulesByCourse.set(row.course_id, arr);\n}\nfunction listTestModulesByCourse(courseId) {\n    return state.modulesByCourse.get(courseId) ?? [];\n}\nfunction updateTestModule(id, data) {\n    for (const [courseId, arr] of state.modulesByCourse.entries()){\n        const idx = arr.findIndex((m)=>m.id === id);\n        if (idx >= 0) {\n            const updated = {\n                ...arr[idx],\n                ...data\n            };\n            arr[idx] = updated;\n            arr.sort((a, b)=>a.order_index - b.order_index);\n            state.modulesByCourse.set(courseId, arr);\n            return updated;\n        }\n    }\n    return undefined;\n}\nfunction deleteTestModule(id) {\n    for (const [courseId, arr] of state.modulesByCourse.entries()){\n        const filtered = arr.filter((m)=>m.id !== id);\n        if (filtered.length !== arr.length) {\n            state.modulesByCourse.set(courseId, filtered);\n            break;\n        }\n    }\n}\nfunction addTestEnrollment(row) {\n    const a = state.enrollmentsByStudent.get(row.student_id) ?? [];\n    a.push(row);\n    state.enrollmentsByStudent.set(row.student_id, a);\n    const b = state.enrollmentsByCourse.get(row.course_id) ?? [];\n    b.push(row);\n    state.enrollmentsByCourse.set(row.course_id, b);\n}\nfunction listTestEnrollmentsByStudent(studentId) {\n    return state.enrollmentsByStudent.get(studentId) ?? [];\n}\nfunction listTestEnrollmentsByCourse(courseId) {\n    return state.enrollmentsByCourse.get(courseId) ?? [];\n}\nfunction upsertTestProfile(profile) {\n    state.profilesById.set(profile.id, profile);\n}\nfunction getTestProfile(id) {\n    return state.profilesById.get(id);\n}\nfunction addTestParentLink(row) {\n    const a = state.parentLinksByParent.get(row.parent_id) ?? [];\n    a.push(row);\n    state.parentLinksByParent.set(row.parent_id, a);\n}\nfunction listTestParentChildren(parentId) {\n    return state.parentLinksByParent.get(parentId) ?? [];\n}\nfunction removeTestParentLink(parentId, studentId) {\n    const a = state.parentLinksByParent.get(parentId) ?? [];\n    const b = a.filter((x)=>x.student_id !== studentId);\n    state.parentLinksByParent.set(parentId, b);\n}\nfunction listTestParentsForStudent(studentId) {\n    const res = [];\n    for (const [pid, arr] of state.parentLinksByParent.entries()){\n        if ((arr ?? []).some((pl)=>pl.student_id === studentId)) res.push(pid);\n    }\n    return res;\n}\n// Announcements helpers (test-mode)\nfunction addTestAnnouncement(row) {\n    const s = state;\n    const arr = s.announcementsByCourse.get(row.course_id) ?? [];\n    arr.unshift(row);\n    s.announcementsByCourse.set(row.course_id, arr);\n}\nfunction listTestAnnouncementsByCourse(courseId) {\n    const s = state;\n    return (s.announcementsByCourse.get(courseId) ?? []).slice();\n}\nfunction deleteTestAnnouncement(id) {\n    const s = state;\n    for (const [cid, arr] of s.announcementsByCourse.entries()){\n        const next = arr.filter((x)=>x.id !== id);\n        if (next.length !== arr.length) {\n            s.announcementsByCourse.set(cid, next);\n            return {\n                ok: true\n            };\n        }\n    }\n    return {\n        ok: false\n    };\n}\n// ===== Messaging helpers (test-mode) =====\nfunction createTestThread(participantIds, roles) {\n    const id = makeId(\"th\");\n    const created_at = new Date().toISOString();\n    const s = state;\n    s.messageThreads.push({\n        id,\n        created_at\n    });\n    const parts = participantIds.map((uid)=>({\n            thread_id: id,\n            user_id: uid,\n            role: roles?.[uid] ?? \"user\",\n            added_at: created_at\n        }));\n    s.participantsByThread.set(id, parts);\n    return {\n        id,\n        created_at\n    };\n}\nfunction listTestThreadsByUser(userId) {\n    const s = state;\n    const res = [];\n    for (const t of s.messageThreads){\n        const parts = s.participantsByThread.get(t.id) ?? [];\n        if (parts.some((p)=>p.user_id === userId)) res.push(t);\n    }\n    // newest first\n    res.sort((a, b)=>b.created_at.localeCompare(a.created_at));\n    return res;\n}\nfunction addTestMessage(row) {\n    const id = makeId(\"ms\");\n    const created_at = new Date().toISOString();\n    const msg = {\n        id,\n        thread_id: row.thread_id,\n        sender_id: row.sender_id,\n        body: row.body,\n        created_at,\n        read_at: null\n    };\n    const s = state;\n    const arr = s.messagesByThread.get(row.thread_id) ?? [];\n    arr.push(msg);\n    arr.sort((a, b)=>a.created_at.localeCompare(b.created_at));\n    s.messagesByThread.set(row.thread_id, arr);\n    // Initialize read receipts map\n    if (!s.readByMessage) s.readByMessage = new Map();\n    s.readByMessage.set(id, new Set());\n    return msg;\n}\nfunction listTestMessagesByThread(threadId) {\n    const s = state;\n    return (s.messagesByThread.get(threadId) ?? []).slice();\n}\nfunction markTestMessageReadForUser(messageId, userId) {\n    const s = state;\n    if (!s.readByMessage) s.readByMessage = new Map();\n    const set = s.readByMessage.get(messageId) ?? new Set();\n    set.add(userId);\n    s.readByMessage.set(messageId, set);\n    // Keep legacy read_at for basic UIs\n    for (const [tid, arr] of s.messagesByThread.entries()){\n        const idx = arr.findIndex((m)=>m.id === messageId);\n        if (idx >= 0) {\n            if (!arr[idx].read_at) arr[idx] = {\n                ...arr[idx],\n                read_at: new Date().toISOString()\n            };\n            s.messagesByThread.set(tid, arr);\n            return arr[idx];\n        }\n    }\n    return null;\n}\nfunction countUnreadForThread(threadId, userId) {\n    const s = state;\n    if (!s.readByMessage) s.readByMessage = new Map();\n    const msgs = s.messagesByThread.get(threadId) ?? [];\n    let count = 0;\n    for (const m of msgs){\n        if (m.sender_id === userId) continue;\n        const readSet = s.readByMessage.get(m.id);\n        if (!readSet || !readSet.has(userId)) count++;\n    }\n    return count;\n}\nfunction markAllThreadMessagesReadForUser(threadId, userId) {\n    const s = state;\n    if (!s.readByMessage) s.readByMessage = new Map();\n    const msgs = s.messagesByThread.get(threadId) ?? [];\n    for (const m of msgs){\n        if (m.sender_id === userId) continue;\n        const set = s.readByMessage.get(m.id) ?? new Set();\n        set.add(userId);\n        s.readByMessage.set(m.id, set);\n    }\n    return {\n        ok: true\n    };\n}\n// ===== Feature Flags (test-mode) =====\nfunction listTestFeatureFlags() {\n    const s = state;\n    if (!s.featureFlags) s.featureFlags = new Map();\n    const obj = {};\n    for (const [k, v] of s.featureFlags.entries())obj[k] = !!v;\n    return obj;\n}\nfunction setTestFeatureFlag(key, value) {\n    const s = state;\n    if (!s.featureFlags) s.featureFlags = new Map();\n    s.featureFlags.set(key, !!value);\n    return {\n        key,\n        value: !!value\n    };\n}\nfunction listTestParticipantsByThread(threadId) {\n    const s = state;\n    return (s.participantsByThread.get(threadId) ?? []).slice();\n}\n// ===== Notifications helpers (test-mode) =====\nfunction addTestNotification(row) {\n    const s = state;\n    if (!s.notificationsByUser) s.notificationsByUser = new Map();\n    const id = row.id ?? makeId(\"no\");\n    const created_at = new Date().toISOString();\n    const obj = {\n        id,\n        user_id: row.user_id,\n        type: row.type,\n        payload: row.payload ?? {},\n        created_at,\n        read_at: null\n    };\n    const arr = s.notificationsByUser.get(row.user_id) ?? [];\n    arr.unshift(obj);\n    s.notificationsByUser.set(row.user_id, arr);\n    return obj;\n}\nfunction listTestNotificationsByUser(userId) {\n    const s = state;\n    if (!s.notificationsByUser) s.notificationsByUser = new Map();\n    return (s.notificationsByUser.get(userId) ?? []).slice();\n}\nfunction markTestNotificationRead(id) {\n    const s = state;\n    if (!s.notificationsByUser) s.notificationsByUser = new Map();\n    for (const [uid, arr] of s.notificationsByUser.entries()){\n        const idx = arr.findIndex((n)=>n.id === id);\n        if (idx >= 0) {\n            arr[idx] = {\n                ...arr[idx],\n                read_at: new Date().toISOString()\n            };\n            s.notificationsByUser.set(uid, arr);\n            return arr[idx];\n        }\n    }\n    return null;\n}\nfunction markAllTestNotificationsRead(userId) {\n    const s = state;\n    if (!s.notificationsByUser) s.notificationsByUser = new Map();\n    const arr = (s.notificationsByUser.get(userId) ?? []).map((n)=>({\n            ...n,\n            read_at: n.read_at ?? new Date().toISOString()\n        }));\n    s.notificationsByUser.set(userId, arr);\n    return {\n        ok: true\n    };\n}\nconst DEFAULT_PREFS = {\n    \"assignment:new\": true,\n    \"submission:graded\": true,\n    \"message:new\": true,\n    \"announcement:published\": true,\n    \"quiz:due-soon\": true\n};\nfunction getTestNotificationPreferences(userId) {\n    const s = state;\n    if (!s.notificationPrefsByUser) s.notificationPrefsByUser = new Map();\n    const current = s.notificationPrefsByUser.get(userId);\n    if (current) return {\n        ...DEFAULT_PREFS,\n        ...current\n    };\n    return {\n        ...DEFAULT_PREFS\n    };\n}\nfunction setTestNotificationPreferences(userId, partial) {\n    const s = state;\n    if (!s.notificationPrefsByUser) s.notificationPrefsByUser = new Map();\n    const merged = {\n        ...getTestNotificationPreferences(userId),\n        ...partial\n    };\n    s.notificationPrefsByUser.set(userId, merged);\n    return merged;\n}\nfunction shouldDeliverTestNotification(userId, type) {\n    const prefs = getTestNotificationPreferences(userId);\n    const val = prefs[type];\n    return val === undefined ? true : !!val;\n}\n// Assignments helpers\nfunction addTestAssignment(row) {\n    const s = state;\n    const arr = s.assignmentsByCourse.get(row.course_id) ?? [];\n    arr.push(row);\n    arr.sort((a, b)=>new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\n    s.assignmentsByCourse.set(row.course_id, arr);\n}\nfunction listTestAssignmentsByCourse(courseId) {\n    const s = state;\n    return s.assignmentsByCourse.get(courseId) ?? [];\n}\nfunction updateTestAssignment(id, data) {\n    const s = state;\n    for (const [courseId, arr] of s.assignmentsByCourse.entries()){\n        const idx = arr.findIndex((x)=>x.id === id);\n        if (idx >= 0) {\n            const next = {\n                ...arr[idx],\n                ...data\n            };\n            arr[idx] = next;\n            s.assignmentsByCourse.set(courseId, arr);\n            return next;\n        }\n    }\n    return null;\n}\nfunction deleteTestAssignment(id) {\n    const s = state;\n    for (const [courseId, arr] of s.assignmentsByCourse.entries()){\n        const next = arr.filter((x)=>x.id !== id);\n        s.assignmentsByCourse.set(courseId, next);\n    }\n    return {\n        ok: true\n    };\n}\n// ===== Files (test-mode) =====\nfunction addTestFile(input) {\n    const id = makeId(\"f\");\n    const row = {\n        id,\n        owner_type: input.owner_type,\n        owner_id: input.owner_id,\n        content_type: input.content_type,\n        data_base64: input.data_base64,\n        created_at: new Date().toISOString()\n    };\n    const s = state;\n    s.filesById.set(id, row);\n    return row;\n}\nfunction getTestFile(id) {\n    const s = state;\n    return s.filesById.get(id) ?? null;\n}\n// Submissions helpers\nfunction addTestSubmission(row) {\n    const s = state;\n    const arr = s.submissionsByAssignment.get(row.assignment_id) ?? [];\n    arr.unshift(row);\n    s.submissionsByAssignment.set(row.assignment_id, arr);\n}\nfunction listTestSubmissionsByAssignment(assignmentId) {\n    const s = state;\n    return s.submissionsByAssignment.get(assignmentId) ?? [];\n}\nfunction gradeTestSubmission(id, data) {\n    const s = state;\n    for (const [aid, arr] of s.submissionsByAssignment.entries()){\n        const idx = arr.findIndex((x)=>x.id === id);\n        if (idx >= 0) {\n            const next = {\n                ...arr[idx],\n                score: data.score,\n                feedback: data.feedback ?? null\n            };\n            arr[idx] = next;\n            s.submissionsByAssignment.set(aid, arr);\n            return next;\n        }\n    }\n    return null;\n}\nfunction makeId(_prefix) {\n    const hex = \"0123456789abcdef\";\n    const rand = (n)=>Array.from({\n            length: n\n        }, ()=>hex[Math.floor(Math.random() * hex.length)]).join(\"\");\n    const s1 = rand(8);\n    const s2 = rand(4);\n    const s3 = rand(4);\n    const s4 = rand(4);\n    const s5 = rand(12);\n    return `${s1}-${s2}-${s3}-${s4}-${s5}`;\n}\nfunction addQuiz(input) {\n    const row = {\n        id: makeId(\"q\"),\n        course_id: input.course_id,\n        title: input.title,\n        time_limit_sec: input.time_limit_sec ?? null,\n        points: input.points ?? 100,\n        created_at: new Date().toISOString()\n    };\n    const s = state;\n    const arr = s.quizzesByCourse.get(row.course_id) ?? [];\n    arr.unshift(row);\n    s.quizzesByCourse.set(row.course_id, arr);\n    return row;\n}\nfunction listQuizzesByCourse(courseId) {\n    const s = state;\n    return (s.quizzesByCourse.get(courseId) ?? []).slice();\n}\nfunction updateQuiz(id, data) {\n    const s = state;\n    for (const [courseId, arr] of s.quizzesByCourse.entries()){\n        const idx = arr.findIndex((q)=>q.id === id);\n        if (idx >= 0) {\n            const q = arr[idx];\n            const updated = {\n                ...q,\n                ...data\n            };\n            arr[idx] = updated;\n            s.quizzesByCourse.set(courseId, arr);\n            return updated;\n        }\n    }\n    return null;\n}\nfunction deleteQuiz(id) {\n    const s = state;\n    for (const [courseId, arr] of s.quizzesByCourse.entries()){\n        const next = arr.filter((q)=>q.id !== id);\n        if (next.length !== arr.length) {\n            s.quizzesByCourse.set(courseId, next);\n            // Cascade: remove questions for this quiz\n            s.questionsByQuiz.delete(id);\n            return {\n                ok: true\n            };\n        }\n    }\n    return {\n        ok: false\n    };\n}\nfunction addQuestion(input) {\n    const row = {\n        id: makeId(\"r\"),\n        quiz_id: input.quiz_id,\n        text: input.text,\n        order_index: input.order_index ?? 1\n    };\n    const s = state;\n    const arr = s.questionsByQuiz.get(row.quiz_id) ?? [];\n    arr.push(row);\n    arr.sort((a, b)=>a.order_index - b.order_index);\n    s.questionsByQuiz.set(row.quiz_id, arr);\n    return row;\n}\nfunction listQuestionsByQuiz(quizId) {\n    const s = state;\n    return (s.questionsByQuiz.get(quizId) ?? []).slice();\n}\nfunction addChoice(input) {\n    const row = {\n        id: makeId(\"s\"),\n        question_id: input.question_id,\n        text: input.text,\n        correct: input.correct,\n        order_index: input.order_index ?? 1\n    };\n    const s = state;\n    const arr = s.choicesByQuestion.get(row.question_id) ?? [];\n    arr.push(row);\n    arr.sort((a, b)=>a.order_index - b.order_index);\n    s.choicesByQuestion.set(row.question_id, arr);\n    return row;\n}\nfunction listChoicesByQuestion(questionId) {\n    const s = state;\n    return (s.choicesByQuestion.get(questionId) ?? []).slice();\n}\nfunction startAttempt(input) {\n    const row = {\n        id: makeId(\"t\"),\n        quiz_id: input.quiz_id,\n        student_id: input.student_id,\n        started_at: new Date().toISOString(),\n        submitted_at: null,\n        score: 0\n    };\n    const s = state;\n    const arr = s.attemptsByQuiz.get(row.quiz_id) ?? [];\n    arr.push(row);\n    s.attemptsByQuiz.set(row.quiz_id, arr);\n    return row;\n}\nfunction upsertAnswer(input) {\n    const s = state;\n    const ansArr = s.answersByAttempt.get(input.attempt_id) ?? [];\n    const idx = ansArr.findIndex((a)=>a.question_id === input.question_id);\n    const row = idx >= 0 ? {\n        ...ansArr[idx],\n        choice_id: input.choice_id,\n        created_at: new Date().toISOString()\n    } : {\n        id: makeId(\"u\"),\n        attempt_id: input.attempt_id,\n        question_id: input.question_id,\n        choice_id: input.choice_id,\n        created_at: new Date().toISOString()\n    };\n    if (idx >= 0) ansArr[idx] = row;\n    else ansArr.push(row);\n    s.answersByAttempt.set(input.attempt_id, ansArr);\n    return row;\n}\nfunction submitAttempt(input) {\n    const s = state;\n    let attempt;\n    let quizId;\n    for (const [qid, arr] of s.attemptsByQuiz.entries()){\n        const found = arr.find((a)=>a.id === input.attempt_id);\n        if (found) {\n            attempt = found;\n            quizId = qid;\n            break;\n        }\n    }\n    if (!attempt || !quizId) return null;\n    const questions = s.questionsByQuiz.get(quizId) ?? [];\n    const total = questions.length;\n    const answers = s.answersByAttempt.get(attempt.id) ?? [];\n    let correct = 0;\n    for (const q of questions){\n        const a = answers.find((x)=>x.question_id === q.id);\n        if (!a) continue;\n        const choices = s.choicesByQuestion.get(q.id) ?? [];\n        const correctChoice = choices.find((c)=>c.correct);\n        if (correctChoice && a.choice_id === correctChoice.id) correct++;\n    }\n    let quizPoints = 100;\n    for (const [, quizzes] of s.quizzesByCourse.entries()){\n        const match = quizzes.find((q)=>q.id === quizId);\n        if (match) {\n            quizPoints = match.points;\n            break;\n        }\n    }\n    const score = total > 0 ? Math.round(correct / total * quizPoints) : 0;\n    attempt.submitted_at = new Date().toISOString();\n    attempt.score = score;\n    return attempt;\n}\nfunction listAttemptsForQuiz(quiz_id) {\n    const s = state;\n    return (s.attemptsByQuiz.get(quiz_id) ?? []).slice();\n}\nfunction getAttemptForStudent(quiz_id, student_id) {\n    const s = state;\n    const arr = s.attemptsByQuiz.get(quiz_id) ?? [];\n    const mine = arr.filter((a)=>a.student_id === student_id);\n    if (mine.length === 0) return null;\n    mine.sort((a, b)=>b.started_at.localeCompare(a.started_at));\n    return mine[0];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM5QyxJQUFJa0ssS0FBS3BLLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFDOUJvSyxLQUFLaE0sSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUV3SyxVQUFVLENBQUNoRyxhQUFhLENBQUN6RSxFQUFFeUssVUFBVTtJQUMzRCxPQUFPc0IsSUFBSSxDQUFDLEVBQUU7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvbGliL3Rlc3RTdG9yZS50cz9jZTNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbi1tZW1vcnkgdGVzdCBzdG9yZSAoZGV2L3Rlc3Qgb25seSlcclxuICpcclxuICogUHJvdmlkZXMgYSBsaWdodHdlaWdodCwgcHJvY2Vzcy1sb2NhbCBkYXRhIHN0b3JlIHVzZWQgd2hlbiBgVEVTVF9NT0RFYFxyXG4gKiBpcyBlbmFibGVkLiBJdCBzaW11bGF0ZXMgZGF0YWJhc2UgYmVoYXZpb3IgZm9yIGUyZSBhbmQgdW5pdCB0ZXN0cywgYW5kXHJcbiAqIHBlcnNpc3RzIGFjcm9zcyBOZXh0LmpzIEhNUiBieSBhdHRhY2hpbmcgdG8gYGdsb2JhbFRoaXNgLlxyXG4gKi9cclxudHlwZSBUZXN0Q291cnNlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcclxuICB0ZWFjaGVyX2lkOiBzdHJpbmc7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBUZXN0TGVzc29uID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgY291cnNlX2lkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBjb250ZW50OiBzdHJpbmc7XHJcbiAgb3JkZXJfaW5kZXg6IG51bWJlcjtcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbn07XHJcblxyXG50eXBlIFRlc3RNb2R1bGUgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIG9yZGVyX2luZGV4OiBudW1iZXI7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBUZXN0RW5yb2xsbWVudCA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHN0dWRlbnRfaWQ6IHN0cmluZztcclxuICBjb3Vyc2VfaWQ6IHN0cmluZztcclxuICBjcmVhdGVkX2F0OiBzdHJpbmc7XHJcbn07XHJcblxyXG50eXBlIFRlc3RBc3NpZ25tZW50ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgY291cnNlX2lkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcclxuICBkdWVfYXQ6IHN0cmluZyB8IG51bGw7XHJcbiAgcG9pbnRzOiBudW1iZXI7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBUZXN0U3VibWlzc2lvbiA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGFzc2lnbm1lbnRfaWQ6IHN0cmluZztcclxuICBzdHVkZW50X2lkOiBzdHJpbmc7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGZpbGVfdXJsOiBzdHJpbmcgfCBudWxsO1xyXG4gIHN1Ym1pdHRlZF9hdDogc3RyaW5nO1xyXG4gIHNjb3JlOiBudW1iZXIgfCBudWxsO1xyXG4gIGZlZWRiYWNrOiBzdHJpbmcgfCBudWxsO1xyXG59O1xyXG5cclxudHlwZSBUZXN0UHJvZmlsZSA9IHtcclxuXHRpZDogc3RyaW5nO1xyXG5cdGVtYWlsOiBzdHJpbmc7XHJcblx0cm9sZTogXCJzdHVkZW50XCIgfCBcInRlYWNoZXJcIiB8IFwicGFyZW50XCIgfCBcImFkbWluXCI7XHJcbn07XHJcblxyXG50eXBlIFRlc3RQYXJlbnRMaW5rID0ge1xyXG5cdGlkOiBzdHJpbmc7XHJcblx0cGFyZW50X2lkOiBzdHJpbmc7XHJcblx0c3R1ZGVudF9pZDogc3RyaW5nO1xyXG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIFBlcnNpc3Qgc3RhdGUgYWNyb3NzIE5leHQuanMgZGV2IEhNUiBieSBhdHRhY2hpbmcgdG8gZ2xvYmFsVGhpc1xyXG5jb25zdCBnbG9iYWxTdG9yZSA9IGdsb2JhbFRoaXMgYXMgYW55O1xyXG5jb25zdCBzdGF0ZToge1xyXG4gIGNvdXJzZXM6IE1hcDxzdHJpbmcsIFRlc3RDb3Vyc2U+O1xyXG4gIGxlc3NvbnNCeUNvdXJzZTogTWFwPHN0cmluZywgVGVzdExlc3NvbltdPjtcclxuICBtb2R1bGVzQnlDb3Vyc2U6IE1hcDxzdHJpbmcsIFRlc3RNb2R1bGVbXT47XHJcbiAgZW5yb2xsbWVudHNCeVN0dWRlbnQ6IE1hcDxzdHJpbmcsIFRlc3RFbnJvbGxtZW50W10+O1xyXG4gIGVucm9sbG1lbnRzQnlDb3Vyc2U6IE1hcDxzdHJpbmcsIFRlc3RFbnJvbGxtZW50W10+O1xyXG4gIHByb2ZpbGVzQnlJZDogTWFwPHN0cmluZywgVGVzdFByb2ZpbGU+O1xyXG4gIHBhcmVudExpbmtzQnlQYXJlbnQ6IE1hcDxzdHJpbmcsIFRlc3RQYXJlbnRMaW5rW10+O1xyXG4gIC8vIEZpbGVzICh0ZXN0LW1vZGUgc3RvcmFnZSlcclxuICBmaWxlc0J5SWQ/OiBNYXA8c3RyaW5nLCB7IGlkOiBzdHJpbmc7IG93bmVyX3R5cGU6IHN0cmluZzsgb3duZXJfaWQ6IHN0cmluZzsgY29udGVudF90eXBlOiBzdHJpbmc7IGRhdGFfYmFzZTY0OiBzdHJpbmc7IGNyZWF0ZWRfYXQ6IHN0cmluZyB9PjtcclxuICBhbm5vdW5jZW1lbnRzQnlDb3Vyc2U/OiBNYXA8c3RyaW5nLCB7IGlkOiBzdHJpbmc7IGNvdXJzZV9pZDogc3RyaW5nOyB0ZWFjaGVyX2lkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGJvZHk6IHN0cmluZzsgcHVibGlzaF9hdDogc3RyaW5nIHwgbnVsbDsgY3JlYXRlZF9hdDogc3RyaW5nIH1bXT47XHJcbiAgYXNzaWdubWVudHNCeUNvdXJzZT86IE1hcDxzdHJpbmcsIFRlc3RBc3NpZ25tZW50W10+O1xyXG4gIHN1Ym1pc3Npb25zQnlBc3NpZ25tZW50PzogTWFwPHN0cmluZywgVGVzdFN1Ym1pc3Npb25bXT47XHJcbiAgcXVpenplc0J5Q291cnNlPzogTWFwPHN0cmluZywgYW55W10+O1xyXG4gIHF1ZXN0aW9uc0J5UXVpej86IE1hcDxzdHJpbmcsIGFueVtdPjtcclxuICBjaG9pY2VzQnlRdWVzdGlvbj86IE1hcDxzdHJpbmcsIGFueVtdPjtcclxuICBhdHRlbXB0c0J5UXVpej86IE1hcDxzdHJpbmcsIGFueVtdPjtcclxuICBhbnN3ZXJzQnlBdHRlbXB0PzogTWFwPHN0cmluZywgYW55W10+O1xyXG4gIC8vIE1lc3NhZ2luZ1xyXG4gIG1lc3NhZ2VUaHJlYWRzPzogeyBpZDogc3RyaW5nOyBjcmVhdGVkX2F0OiBzdHJpbmcgfVtdO1xyXG4gIHBhcnRpY2lwYW50c0J5VGhyZWFkPzogTWFwPHN0cmluZywgeyB0aHJlYWRfaWQ6IHN0cmluZzsgdXNlcl9pZDogc3RyaW5nOyByb2xlOiBzdHJpbmc7IGFkZGVkX2F0OiBzdHJpbmcgfVtdPjtcclxuICBtZXNzYWdlc0J5VGhyZWFkPzogTWFwPHN0cmluZywgeyBpZDogc3RyaW5nOyB0aHJlYWRfaWQ6IHN0cmluZzsgc2VuZGVyX2lkOiBzdHJpbmc7IGJvZHk6IHN0cmluZzsgY3JlYXRlZF9hdDogc3RyaW5nOyByZWFkX2F0OiBzdHJpbmcgfCBudWxsIH1bXT47XHJcbiAgLy8gUGVyLXVzZXIgcmVhZCByZWNlaXB0cyBmb3IgbWVzc2FnZXMgKHRlc3QtbW9kZSBvbmx5KVxyXG4gIHJlYWRCeU1lc3NhZ2U/OiBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj47XHJcbiAgLy8gRmVhdHVyZSBmbGFnc1xyXG4gIGZlYXR1cmVGbGFncz86IE1hcDxzdHJpbmcsIGJvb2xlYW4+O1xyXG59ID0gZ2xvYmFsU3RvcmUuX19URVNUX1NUT1JFX18gfHwgKGdsb2JhbFN0b3JlLl9fVEVTVF9TVE9SRV9fID0ge1xyXG4gIGNvdXJzZXM6IG5ldyBNYXA8c3RyaW5nLCBUZXN0Q291cnNlPigpLFxyXG4gIGxlc3NvbnNCeUNvdXJzZTogbmV3IE1hcDxzdHJpbmcsIFRlc3RMZXNzb25bXT4oKSxcclxuICBtb2R1bGVzQnlDb3Vyc2U6IG5ldyBNYXA8c3RyaW5nLCBUZXN0TW9kdWxlW10+KCksXHJcbiAgZW5yb2xsbWVudHNCeVN0dWRlbnQ6IG5ldyBNYXA8c3RyaW5nLCBUZXN0RW5yb2xsbWVudFtdPigpLFxyXG4gIGVucm9sbG1lbnRzQnlDb3Vyc2U6IG5ldyBNYXA8c3RyaW5nLCBUZXN0RW5yb2xsbWVudFtdPigpLFxyXG4gIHByb2ZpbGVzQnlJZDogbmV3IE1hcDxzdHJpbmcsIFRlc3RQcm9maWxlPigpLFxyXG4gIHBhcmVudExpbmtzQnlQYXJlbnQ6IG5ldyBNYXA8c3RyaW5nLCBUZXN0UGFyZW50TGlua1tdPigpXHJcbn0pO1xyXG5cclxuLy8gQmFja2ZpbGwgbWFwcyBpZiB0aGlzIG1vZHVsZSBsb2FkZWQgYWZ0ZXIgYW4gb2xkZXIgc3RvcmUgc2hhcGUgd2FzIGNyZWF0ZWQgKEhNUiBkdXJpbmcgZGV2KVxyXG5jb25zdCBhbnlTdGF0ZSA9IHN0YXRlIGFzIGFueTtcclxuaWYgKCFhbnlTdGF0ZS5wcm9maWxlc0J5SWQpIGFueVN0YXRlLnByb2ZpbGVzQnlJZCA9IG5ldyBNYXA8c3RyaW5nLCBUZXN0UHJvZmlsZT4oKTtcclxuaWYgKCFhbnlTdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50KSBhbnlTdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50ID0gbmV3IE1hcDxzdHJpbmcsIFRlc3RQYXJlbnRMaW5rW10+KCk7XHJcbmlmICghYW55U3RhdGUubW9kdWxlc0J5Q291cnNlKSBhbnlTdGF0ZS5tb2R1bGVzQnlDb3Vyc2UgPSBuZXcgTWFwPHN0cmluZywgVGVzdE1vZHVsZVtdPigpO1xyXG5pZiAoIWFueVN0YXRlLmFzc2lnbm1lbnRzQnlDb3Vyc2UpIGFueVN0YXRlLmFzc2lnbm1lbnRzQnlDb3Vyc2UgPSBuZXcgTWFwPHN0cmluZywgVGVzdEFzc2lnbm1lbnRbXT4oKTtcclxuaWYgKCFhbnlTdGF0ZS5zdWJtaXNzaW9uc0J5QXNzaWdubWVudCkgYW55U3RhdGUuc3VibWlzc2lvbnNCeUFzc2lnbm1lbnQgPSBuZXcgTWFwPHN0cmluZywgVGVzdFN1Ym1pc3Npb25bXT4oKTtcclxuLy8gUXVpenplcyBzdG9yZSBtYXBzIChiYWNrZmlsbCBpZiBtaXNzaW5nIGZvciBITVIpXHJcbmlmICghYW55U3RhdGUucXVpenplc0J5Q291cnNlKSBhbnlTdGF0ZS5xdWl6emVzQnlDb3Vyc2UgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7XHJcbmlmICghYW55U3RhdGUucXVlc3Rpb25zQnlRdWl6KSBhbnlTdGF0ZS5xdWVzdGlvbnNCeVF1aXogPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7XHJcbmlmICghYW55U3RhdGUuY2hvaWNlc0J5UXVlc3Rpb24pIGFueVN0YXRlLmNob2ljZXNCeVF1ZXN0aW9uID0gbmV3IE1hcDxzdHJpbmcsIGFueVtdPigpO1xyXG5pZiAoIWFueVN0YXRlLmF0dGVtcHRzQnlRdWl6KSBhbnlTdGF0ZS5hdHRlbXB0c0J5UXVpeiA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTtcclxuaWYgKCFhbnlTdGF0ZS5hbnN3ZXJzQnlBdHRlbXB0KSBhbnlTdGF0ZS5hbnN3ZXJzQnlBdHRlbXB0ID0gbmV3IE1hcDxzdHJpbmcsIGFueVtdPigpO1xyXG5pZiAoIWFueVN0YXRlLmFubm91bmNlbWVudHNCeUNvdXJzZSkgYW55U3RhdGUuYW5ub3VuY2VtZW50c0J5Q291cnNlID0gbmV3IE1hcDxzdHJpbmcsIGFueVtdPigpO1xyXG5pZiAoIWFueVN0YXRlLmZpbGVzQnlJZCkgYW55U3RhdGUuZmlsZXNCeUlkID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcclxuLy8gTWVzc2FnaW5nIG1hcHNcclxuaWYgKCFhbnlTdGF0ZS5tZXNzYWdlVGhyZWFkcykgYW55U3RhdGUubWVzc2FnZVRocmVhZHMgPSBbXTtcclxuaWYgKCFhbnlTdGF0ZS5wYXJ0aWNpcGFudHNCeVRocmVhZCkgYW55U3RhdGUucGFydGljaXBhbnRzQnlUaHJlYWQgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7XHJcbmlmICghYW55U3RhdGUubWVzc2FnZXNCeVRocmVhZCkgYW55U3RhdGUubWVzc2FnZXNCeVRocmVhZCA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTtcclxuaWYgKCFhbnlTdGF0ZS5yZWFkQnlNZXNzYWdlKSBhbnlTdGF0ZS5yZWFkQnlNZXNzYWdlID0gbmV3IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PigpO1xyXG5pZiAoIWFueVN0YXRlLmZlYXR1cmVGbGFncykgYW55U3RhdGUuZmVhdHVyZUZsYWdzID0gbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdENvdXJzZShjb3Vyc2U6IFRlc3RDb3Vyc2UpIHtcclxuICBzdGF0ZS5jb3Vyc2VzLnNldChjb3Vyc2UuaWQsIGNvdXJzZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXN0Q291cnNlKGNvdXJzZUlkOiBzdHJpbmcpOiBUZXN0Q291cnNlIHwgdW5kZWZpbmVkIHtcclxuICByZXR1cm4gc3RhdGUuY291cnNlcy5nZXQoY291cnNlSWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdFRlc3RDb3Vyc2VzQnlUZWFjaGVyKHRlYWNoZXJJZDogc3RyaW5nKTogVGVzdENvdXJzZVtdIHtcclxuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZS5jb3Vyc2VzLnZhbHVlcygpKS5maWx0ZXIoYyA9PiBjLnRlYWNoZXJfaWQgPT09IHRlYWNoZXJJZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXN0TGVzc29uKGxlc3NvbjogVGVzdExlc3Nvbikge1xyXG4gIGNvbnN0IGFyciA9IHN0YXRlLmxlc3NvbnNCeUNvdXJzZS5nZXQobGVzc29uLmNvdXJzZV9pZCkgPz8gW107XHJcbiAgYXJyLnB1c2gobGVzc29uKTtcclxuICBhcnIuc29ydCgoYSwgYikgPT4gYS5vcmRlcl9pbmRleCAtIGIub3JkZXJfaW5kZXgpO1xyXG4gIHN0YXRlLmxlc3NvbnNCeUNvdXJzZS5zZXQobGVzc29uLmNvdXJzZV9pZCwgYXJyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0TGVzc29uc0J5Q291cnNlKGNvdXJzZUlkOiBzdHJpbmcpOiBUZXN0TGVzc29uW10ge1xyXG4gIHJldHVybiBzdGF0ZS5sZXNzb25zQnlDb3Vyc2UuZ2V0KGNvdXJzZUlkKSA/PyBbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VGVzdFN0b3JlKCkge1xyXG4gIHN0YXRlLmNvdXJzZXMuY2xlYXIoKTtcclxuICBzdGF0ZS5sZXNzb25zQnlDb3Vyc2UuY2xlYXIoKTtcclxuICBzdGF0ZS5tb2R1bGVzQnlDb3Vyc2UuY2xlYXIoKTtcclxuICBzdGF0ZS5lbnJvbGxtZW50c0J5U3R1ZGVudC5jbGVhcigpO1xyXG4gIHN0YXRlLmVucm9sbG1lbnRzQnlDb3Vyc2UuY2xlYXIoKTtcclxuICBzdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50LmNsZWFyKCk7XHJcbiAgKHN0YXRlIGFzIGFueSkuYXNzaWdubWVudHNCeUNvdXJzZT8uY2xlYXI/LigpO1xyXG4gIChzdGF0ZSBhcyBhbnkpLnN1Ym1pc3Npb25zQnlBc3NpZ25tZW50Py5jbGVhcj8uKCk7XHJcbiAgLy8gUXVpenplc1xyXG4gIChzdGF0ZSBhcyBhbnkpLnF1aXp6ZXNCeUNvdXJzZT8uY2xlYXI/LigpO1xyXG4gIChzdGF0ZSBhcyBhbnkpLnF1ZXN0aW9uc0J5UXVpej8uY2xlYXI/LigpO1xyXG4gIChzdGF0ZSBhcyBhbnkpLmNob2ljZXNCeVF1ZXN0aW9uPy5jbGVhcj8uKCk7XHJcbiAgKHN0YXRlIGFzIGFueSkuYXR0ZW1wdHNCeVF1aXo/LmNsZWFyPy4oKTtcclxuICAoc3RhdGUgYXMgYW55KS5hbnN3ZXJzQnlBdHRlbXB0Py5jbGVhcj8uKCk7XHJcbiAgKHN0YXRlIGFzIGFueSkuYW5ub3VuY2VtZW50c0J5Q291cnNlPy5jbGVhcj8uKCk7XHJcbiAgKHN0YXRlIGFzIGFueSkubWVzc2FnZVRocmVhZHMgPSBbXTtcclxuICAoc3RhdGUgYXMgYW55KS5wYXJ0aWNpcGFudHNCeVRocmVhZD8uY2xlYXI/LigpO1xyXG4gIChzdGF0ZSBhcyBhbnkpLm1lc3NhZ2VzQnlUaHJlYWQ/LmNsZWFyPy4oKTtcclxuICAoc3RhdGUgYXMgYW55KS5maWxlc0J5SWQ/LmNsZWFyPy4oKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVRlc3RDb3Vyc2UoY291cnNlSWQ6IHN0cmluZykge1xyXG4gIHN0YXRlLmNvdXJzZXMuZGVsZXRlKGNvdXJzZUlkKTtcclxuICBzdGF0ZS5sZXNzb25zQnlDb3Vyc2UuZGVsZXRlKGNvdXJzZUlkKTtcclxuICAvLyBOb3RlOiB3ZSBpbnRlbnRpb25hbGx5IGRvIG5vdCBjbGVhciBlbnJvbGxtZW50cyB0byBrZWVwIGhpc3RvcnkgdW5sZXNzIG5lZWRlZFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVvcmRlclRlc3RMZXNzb25zKGNvdXJzZUlkOiBzdHJpbmcsIHVwZGF0ZXM6IHsgaWQ6IHN0cmluZzsgb3JkZXJfaW5kZXg6IG51bWJlciB9W10pIHtcclxuICBjb25zdCBhcnIgPSBzdGF0ZS5sZXNzb25zQnlDb3Vyc2UuZ2V0KGNvdXJzZUlkKSA/PyBbXTtcclxuICBjb25zdCBieUlkID0gbmV3IE1hcChhcnIubWFwKGwgPT4gW2wuaWQsIGxdIGFzIGNvbnN0KSk7XHJcbiAgZm9yIChjb25zdCB1IG9mIHVwZGF0ZXMpIHtcclxuICAgIGNvbnN0IHJvdyA9IGJ5SWQuZ2V0KHUuaWQpO1xyXG4gICAgaWYgKHJvdykgcm93Lm9yZGVyX2luZGV4ID0gdS5vcmRlcl9pbmRleDtcclxuICB9XHJcbiAgYXJyLnNvcnQoKGEsIGIpID0+IGEub3JkZXJfaW5kZXggLSBiLm9yZGVyX2luZGV4KTtcclxuICBzdGF0ZS5sZXNzb25zQnlDb3Vyc2Uuc2V0KGNvdXJzZUlkLCBhcnIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdE1vZHVsZShyb3c6IFRlc3RNb2R1bGUpIHtcclxuICBjb25zdCBhcnIgPSBzdGF0ZS5tb2R1bGVzQnlDb3Vyc2UuZ2V0KHJvdy5jb3Vyc2VfaWQpID8/IFtdO1xyXG4gIGFyci5wdXNoKHJvdyk7XHJcbiAgYXJyLnNvcnQoKGEsIGIpID0+IGEub3JkZXJfaW5kZXggLSBiLm9yZGVyX2luZGV4KTtcclxuICBzdGF0ZS5tb2R1bGVzQnlDb3Vyc2Uuc2V0KHJvdy5jb3Vyc2VfaWQsIGFycik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0VGVzdE1vZHVsZXNCeUNvdXJzZShjb3Vyc2VJZDogc3RyaW5nKTogVGVzdE1vZHVsZVtdIHtcclxuICByZXR1cm4gc3RhdGUubW9kdWxlc0J5Q291cnNlLmdldChjb3Vyc2VJZCkgPz8gW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVUZXN0TW9kdWxlKGlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8UGljazxUZXN0TW9kdWxlLCAndGl0bGUnIHwgJ29yZGVyX2luZGV4Jz4+KSB7XHJcbiAgZm9yIChjb25zdCBbY291cnNlSWQsIGFycl0gb2Ygc3RhdGUubW9kdWxlc0J5Q291cnNlLmVudHJpZXMoKSkge1xyXG4gICAgY29uc3QgaWR4ID0gYXJyLmZpbmRJbmRleChtID0+IG0uaWQgPT09IGlkKTtcclxuICAgIGlmIChpZHggPj0gMCkge1xyXG4gICAgICBjb25zdCB1cGRhdGVkID0geyAuLi5hcnJbaWR4XSwgLi4uZGF0YSB9IGFzIFRlc3RNb2R1bGU7XHJcbiAgICAgIGFycltpZHhdID0gdXBkYXRlZDtcclxuICAgICAgYXJyLnNvcnQoKGEsIGIpID0+IGEub3JkZXJfaW5kZXggLSBiLm9yZGVyX2luZGV4KTtcclxuICAgICAgc3RhdGUubW9kdWxlc0J5Q291cnNlLnNldChjb3Vyc2VJZCwgYXJyKTtcclxuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVUZXN0TW9kdWxlKGlkOiBzdHJpbmcpIHtcclxuICBmb3IgKGNvbnN0IFtjb3Vyc2VJZCwgYXJyXSBvZiBzdGF0ZS5tb2R1bGVzQnlDb3Vyc2UuZW50cmllcygpKSB7XHJcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGFyci5maWx0ZXIobSA9PiBtLmlkICE9PSBpZCk7XHJcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoICE9PSBhcnIubGVuZ3RoKSB7XHJcbiAgICAgIHN0YXRlLm1vZHVsZXNCeUNvdXJzZS5zZXQoY291cnNlSWQsIGZpbHRlcmVkKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdEVucm9sbG1lbnQocm93OiBUZXN0RW5yb2xsbWVudCkge1xyXG4gIGNvbnN0IGEgPSBzdGF0ZS5lbnJvbGxtZW50c0J5U3R1ZGVudC5nZXQocm93LnN0dWRlbnRfaWQpID8/IFtdO1xyXG4gIGEucHVzaChyb3cpO1xyXG4gIHN0YXRlLmVucm9sbG1lbnRzQnlTdHVkZW50LnNldChyb3cuc3R1ZGVudF9pZCwgYSk7XHJcbiAgY29uc3QgYiA9IHN0YXRlLmVucm9sbG1lbnRzQnlDb3Vyc2UuZ2V0KHJvdy5jb3Vyc2VfaWQpID8/IFtdO1xyXG4gIGIucHVzaChyb3cpO1xyXG4gIHN0YXRlLmVucm9sbG1lbnRzQnlDb3Vyc2Uuc2V0KHJvdy5jb3Vyc2VfaWQsIGIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdFRlc3RFbnJvbGxtZW50c0J5U3R1ZGVudChzdHVkZW50SWQ6IHN0cmluZyk6IFRlc3RFbnJvbGxtZW50W10ge1xyXG4gIHJldHVybiBzdGF0ZS5lbnJvbGxtZW50c0J5U3R1ZGVudC5nZXQoc3R1ZGVudElkKSA/PyBbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0RW5yb2xsbWVudHNCeUNvdXJzZShjb3Vyc2VJZDogc3RyaW5nKTogVGVzdEVucm9sbG1lbnRbXSB7XHJcbiAgcmV0dXJuIHN0YXRlLmVucm9sbG1lbnRzQnlDb3Vyc2UuZ2V0KGNvdXJzZUlkKSA/PyBbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwc2VydFRlc3RQcm9maWxlKHByb2ZpbGU6IFRlc3RQcm9maWxlKSB7XHJcblx0c3RhdGUucHJvZmlsZXNCeUlkLnNldChwcm9maWxlLmlkLCBwcm9maWxlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlc3RQcm9maWxlKGlkOiBzdHJpbmcpOiBUZXN0UHJvZmlsZSB8IHVuZGVmaW5lZCB7XHJcblx0cmV0dXJuIHN0YXRlLnByb2ZpbGVzQnlJZC5nZXQoaWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdFBhcmVudExpbmsocm93OiBUZXN0UGFyZW50TGluaykge1xyXG5cdGNvbnN0IGEgPSBzdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50LmdldChyb3cucGFyZW50X2lkKSA/PyBbXTtcclxuXHRhLnB1c2gocm93KTtcclxuXHRzdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50LnNldChyb3cucGFyZW50X2lkLCBhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0UGFyZW50Q2hpbGRyZW4ocGFyZW50SWQ6IHN0cmluZyk6IFRlc3RQYXJlbnRMaW5rW10ge1xyXG5cdHJldHVybiBzdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50LmdldChwYXJlbnRJZCkgPz8gW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVUZXN0UGFyZW50TGluayhwYXJlbnRJZDogc3RyaW5nLCBzdHVkZW50SWQ6IHN0cmluZykge1xyXG5cdGNvbnN0IGEgPSBzdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50LmdldChwYXJlbnRJZCkgPz8gW107XHJcblx0Y29uc3QgYiA9IGEuZmlsdGVyKHggPT4geC5zdHVkZW50X2lkICE9PSBzdHVkZW50SWQpO1xyXG5cdHN0YXRlLnBhcmVudExpbmtzQnlQYXJlbnQuc2V0KHBhcmVudElkLCBiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0UGFyZW50c0ZvclN0dWRlbnQoc3R1ZGVudElkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcblx0Y29uc3QgcmVzOiBzdHJpbmdbXSA9IFtdO1xyXG5cdGZvciAoY29uc3QgW3BpZCwgYXJyXSBvZiBzdGF0ZS5wYXJlbnRMaW5rc0J5UGFyZW50LmVudHJpZXMoKSkge1xyXG5cdFx0aWYgKChhcnIgPz8gW10pLnNvbWUocGwgPT4gcGwuc3R1ZGVudF9pZCA9PT0gc3R1ZGVudElkKSkgcmVzLnB1c2gocGlkKTtcclxuXHR9XHJcblx0cmV0dXJuIHJlcztcclxufVxyXG5cclxuLy8gQW5ub3VuY2VtZW50cyBoZWxwZXJzICh0ZXN0LW1vZGUpXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXN0QW5ub3VuY2VtZW50KHJvdzogeyBpZDogc3RyaW5nOyBjb3Vyc2VfaWQ6IHN0cmluZzsgdGVhY2hlcl9pZDogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBib2R5OiBzdHJpbmc7IHB1Ymxpc2hfYXQ6IHN0cmluZyB8IG51bGw7IGNyZWF0ZWRfYXQ6IHN0cmluZyB9KSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBjb25zdCBhcnIgPSBzLmFubm91bmNlbWVudHNCeUNvdXJzZS5nZXQocm93LmNvdXJzZV9pZCkgPz8gW107XHJcbiAgYXJyLnVuc2hpZnQocm93KTtcclxuICBzLmFubm91bmNlbWVudHNCeUNvdXJzZS5zZXQocm93LmNvdXJzZV9pZCwgYXJyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0QW5ub3VuY2VtZW50c0J5Q291cnNlKGNvdXJzZUlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIHJldHVybiAocy5hbm5vdW5jZW1lbnRzQnlDb3Vyc2UuZ2V0KGNvdXJzZUlkKSA/PyBbXSkuc2xpY2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVRlc3RBbm5vdW5jZW1lbnQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgZm9yIChjb25zdCBbY2lkLCBhcnJdIG9mIHMuYW5ub3VuY2VtZW50c0J5Q291cnNlLmVudHJpZXMoKSkge1xyXG4gICAgY29uc3QgbmV4dCA9IGFyci5maWx0ZXIoKHg6IGFueSkgPT4geC5pZCAhPT0gaWQpO1xyXG4gICAgaWYgKG5leHQubGVuZ3RoICE9PSBhcnIubGVuZ3RoKSB7XHJcbiAgICAgIHMuYW5ub3VuY2VtZW50c0J5Q291cnNlLnNldChjaWQsIG5leHQpO1xyXG4gICAgICByZXR1cm4geyBvazogdHJ1ZSB9IGFzIGNvbnN0O1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4geyBvazogZmFsc2UgfSBhcyBjb25zdDtcclxufVxyXG5cclxuLy8gPT09PT0gTWVzc2FnaW5nIGhlbHBlcnMgKHRlc3QtbW9kZSkgPT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRlc3RUaHJlYWQocGFydGljaXBhbnRJZHM6IHN0cmluZ1tdLCByb2xlcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHtcclxuICBjb25zdCBpZCA9IG1ha2VJZCgndGgnKTtcclxuICBjb25zdCBjcmVhdGVkX2F0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgcy5tZXNzYWdlVGhyZWFkcy5wdXNoKHsgaWQsIGNyZWF0ZWRfYXQgfSk7XHJcbiAgY29uc3QgcGFydHMgPSBwYXJ0aWNpcGFudElkcy5tYXAodWlkID0+ICh7IHRocmVhZF9pZDogaWQsIHVzZXJfaWQ6IHVpZCwgcm9sZTogcm9sZXM/Llt1aWRdID8/ICd1c2VyJywgYWRkZWRfYXQ6IGNyZWF0ZWRfYXQgfSkpO1xyXG4gIHMucGFydGljaXBhbnRzQnlUaHJlYWQuc2V0KGlkLCBwYXJ0cyk7XHJcbiAgcmV0dXJuIHsgaWQsIGNyZWF0ZWRfYXQgfSBhcyBjb25zdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0VGhyZWFkc0J5VXNlcih1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgY29uc3QgcmVzOiB7IGlkOiBzdHJpbmc7IGNyZWF0ZWRfYXQ6IHN0cmluZyB9W10gPSBbXTtcclxuICBmb3IgKGNvbnN0IHQgb2Ygcy5tZXNzYWdlVGhyZWFkcyBhcyB7IGlkOiBzdHJpbmc7IGNyZWF0ZWRfYXQ6IHN0cmluZyB9W10pIHtcclxuICAgIGNvbnN0IHBhcnRzID0gKHMucGFydGljaXBhbnRzQnlUaHJlYWQuZ2V0KHQuaWQpID8/IFtdKSBhcyBhbnlbXTtcclxuICAgIGlmIChwYXJ0cy5zb21lKHAgPT4gcC51c2VyX2lkID09PSB1c2VySWQpKSByZXMucHVzaCh0KTtcclxuICB9XHJcbiAgLy8gbmV3ZXN0IGZpcnN0XHJcbiAgcmVzLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZF9hdC5sb2NhbGVDb21wYXJlKGEuY3JlYXRlZF9hdCkpO1xyXG4gIHJldHVybiByZXM7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRUZXN0TWVzc2FnZShyb3c6IHsgdGhyZWFkX2lkOiBzdHJpbmc7IHNlbmRlcl9pZDogc3RyaW5nOyBib2R5OiBzdHJpbmcgfSkge1xyXG4gIGNvbnN0IGlkID0gbWFrZUlkKCdtcycpO1xyXG4gIGNvbnN0IGNyZWF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgY29uc3QgbXNnID0geyBpZCwgdGhyZWFkX2lkOiByb3cudGhyZWFkX2lkLCBzZW5kZXJfaWQ6IHJvdy5zZW5kZXJfaWQsIGJvZHk6IHJvdy5ib2R5LCBjcmVhdGVkX2F0LCByZWFkX2F0OiBudWxsIH07XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBjb25zdCBhcnIgPSBzLm1lc3NhZ2VzQnlUaHJlYWQuZ2V0KHJvdy50aHJlYWRfaWQpID8/IFtdO1xyXG4gIGFyci5wdXNoKG1zZyk7XHJcbiAgYXJyLnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiBhLmNyZWF0ZWRfYXQubG9jYWxlQ29tcGFyZShiLmNyZWF0ZWRfYXQpKTtcclxuICBzLm1lc3NhZ2VzQnlUaHJlYWQuc2V0KHJvdy50aHJlYWRfaWQsIGFycik7XHJcbiAgLy8gSW5pdGlhbGl6ZSByZWFkIHJlY2VpcHRzIG1hcFxyXG4gIGlmICghcy5yZWFkQnlNZXNzYWdlKSBzLnJlYWRCeU1lc3NhZ2UgPSBuZXcgTWFwPHN0cmluZywgU2V0PHN0cmluZz4+KCk7XHJcbiAgcy5yZWFkQnlNZXNzYWdlLnNldChpZCwgbmV3IFNldDxzdHJpbmc+KCkpO1xyXG4gIHJldHVybiBtc2c7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0VGVzdE1lc3NhZ2VzQnlUaHJlYWQodGhyZWFkSWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgcmV0dXJuIChzLm1lc3NhZ2VzQnlUaHJlYWQuZ2V0KHRocmVhZElkKSA/PyBbXSkuc2xpY2UoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcmtUZXN0TWVzc2FnZVJlYWRGb3JVc2VyKG1lc3NhZ2VJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgaWYgKCFzLnJlYWRCeU1lc3NhZ2UpIHMucmVhZEJ5TWVzc2FnZSA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oKTtcclxuICBjb25zdCBzZXQgPSBzLnJlYWRCeU1lc3NhZ2UuZ2V0KG1lc3NhZ2VJZCkgPz8gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgc2V0LmFkZCh1c2VySWQpO1xyXG4gIHMucmVhZEJ5TWVzc2FnZS5zZXQobWVzc2FnZUlkLCBzZXQpO1xyXG4gIC8vIEtlZXAgbGVnYWN5IHJlYWRfYXQgZm9yIGJhc2ljIFVJc1xyXG4gIGZvciAoY29uc3QgW3RpZCwgYXJyXSBvZiBzLm1lc3NhZ2VzQnlUaHJlYWQuZW50cmllcygpKSB7XHJcbiAgICBjb25zdCBpZHggPSBhcnIuZmluZEluZGV4KChtOiBhbnkpID0+IG0uaWQgPT09IG1lc3NhZ2VJZCk7XHJcbiAgICBpZiAoaWR4ID49IDApIHtcclxuICAgICAgaWYgKCFhcnJbaWR4XS5yZWFkX2F0KSBhcnJbaWR4XSA9IHsgLi4uYXJyW2lkeF0sIHJlYWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9O1xyXG4gICAgICBzLm1lc3NhZ2VzQnlUaHJlYWQuc2V0KHRpZCwgYXJyKTtcclxuICAgICAgcmV0dXJuIGFycltpZHhdO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50VW5yZWFkRm9yVGhyZWFkKHRocmVhZElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKTogbnVtYmVyIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGlmICghcy5yZWFkQnlNZXNzYWdlKSBzLnJlYWRCeU1lc3NhZ2UgPSBuZXcgTWFwPHN0cmluZywgU2V0PHN0cmluZz4+KCk7XHJcbiAgY29uc3QgbXNncyA9IChzLm1lc3NhZ2VzQnlUaHJlYWQuZ2V0KHRocmVhZElkKSA/PyBbXSkgYXMgYW55W107XHJcbiAgbGV0IGNvdW50ID0gMDtcclxuICBmb3IgKGNvbnN0IG0gb2YgbXNncykge1xyXG4gICAgaWYgKG0uc2VuZGVyX2lkID09PSB1c2VySWQpIGNvbnRpbnVlO1xyXG4gICAgY29uc3QgcmVhZFNldCA9IHMucmVhZEJ5TWVzc2FnZS5nZXQobS5pZCkgYXMgU2V0PHN0cmluZz4gfCB1bmRlZmluZWQ7XHJcbiAgICBpZiAoIXJlYWRTZXQgfHwgIXJlYWRTZXQuaGFzKHVzZXJJZCkpIGNvdW50Kys7XHJcbiAgfVxyXG4gIHJldHVybiBjb3VudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcmtBbGxUaHJlYWRNZXNzYWdlc1JlYWRGb3JVc2VyKHRocmVhZElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBpZiAoIXMucmVhZEJ5TWVzc2FnZSkgcy5yZWFkQnlNZXNzYWdlID0gbmV3IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PigpO1xyXG4gIGNvbnN0IG1zZ3MgPSAocy5tZXNzYWdlc0J5VGhyZWFkLmdldCh0aHJlYWRJZCkgPz8gW10pIGFzIGFueVtdO1xyXG4gIGZvciAoY29uc3QgbSBvZiBtc2dzKSB7XHJcbiAgICBpZiAobS5zZW5kZXJfaWQgPT09IHVzZXJJZCkgY29udGludWU7XHJcbiAgICBjb25zdCBzZXQgPSAocy5yZWFkQnlNZXNzYWdlLmdldChtLmlkKSBhcyBTZXQ8c3RyaW5nPiB8IHVuZGVmaW5lZCkgPz8gbmV3IFNldDxzdHJpbmc+KCk7XHJcbiAgICBzZXQuYWRkKHVzZXJJZCk7XHJcbiAgICBzLnJlYWRCeU1lc3NhZ2Uuc2V0KG0uaWQsIHNldCk7XHJcbiAgfVxyXG4gIHJldHVybiB7IG9rOiB0cnVlIH0gYXMgY29uc3Q7XHJcbn1cclxuXHJcbi8vID09PT09IEZlYXR1cmUgRmxhZ3MgKHRlc3QtbW9kZSkgPT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0RmVhdHVyZUZsYWdzKCk6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+IHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGlmICghcy5mZWF0dXJlRmxhZ3MpIHMuZmVhdHVyZUZsYWdzID0gbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCk7XHJcbiAgY29uc3Qgb2JqOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHt9O1xyXG4gIGZvciAoY29uc3QgW2ssIHZdIG9mIHMuZmVhdHVyZUZsYWdzLmVudHJpZXMoKSkgb2JqW2tdID0gISF2O1xyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRUZXN0RmVhdHVyZUZsYWcoa2V5OiBzdHJpbmcsIHZhbHVlOiBib29sZWFuKSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBpZiAoIXMuZmVhdHVyZUZsYWdzKSBzLmZlYXR1cmVGbGFncyA9IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpO1xyXG4gIHMuZmVhdHVyZUZsYWdzLnNldChrZXksICEhdmFsdWUpO1xyXG4gIHJldHVybiB7IGtleSwgdmFsdWU6ICEhdmFsdWUgfSBhcyBjb25zdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0UGFydGljaXBhbnRzQnlUaHJlYWQodGhyZWFkSWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgcmV0dXJuIChzLnBhcnRpY2lwYW50c0J5VGhyZWFkLmdldCh0aHJlYWRJZCkgPz8gW10pLnNsaWNlKCk7XHJcbn1cclxuXHJcbi8vID09PT09IE5vdGlmaWNhdGlvbnMgaGVscGVycyAodGVzdC1tb2RlKSA9PT09PVxyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdE5vdGlmaWNhdGlvbihyb3c6IHsgaWQ/OiBzdHJpbmc7IHVzZXJfaWQ6IHN0cmluZzsgdHlwZTogc3RyaW5nOyBwYXlsb2FkPzogYW55IH0pIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGlmICghcy5ub3RpZmljYXRpb25zQnlVc2VyKSBzLm5vdGlmaWNhdGlvbnNCeVVzZXIgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7XHJcbiAgY29uc3QgaWQgPSByb3cuaWQgPz8gbWFrZUlkKCdubycpO1xyXG4gIGNvbnN0IGNyZWF0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgY29uc3Qgb2JqID0geyBpZCwgdXNlcl9pZDogcm93LnVzZXJfaWQsIHR5cGU6IHJvdy50eXBlLCBwYXlsb2FkOiByb3cucGF5bG9hZCA/PyB7fSwgY3JlYXRlZF9hdCwgcmVhZF9hdDogbnVsbCB9O1xyXG4gIGNvbnN0IGFyciA9IHMubm90aWZpY2F0aW9uc0J5VXNlci5nZXQocm93LnVzZXJfaWQpID8/IFtdO1xyXG4gIGFyci51bnNoaWZ0KG9iaik7XHJcbiAgcy5ub3RpZmljYXRpb25zQnlVc2VyLnNldChyb3cudXNlcl9pZCwgYXJyKTtcclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdFRlc3ROb3RpZmljYXRpb25zQnlVc2VyKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBpZiAoIXMubm90aWZpY2F0aW9uc0J5VXNlcikgcy5ub3RpZmljYXRpb25zQnlVc2VyID0gbmV3IE1hcDxzdHJpbmcsIGFueVtdPigpO1xyXG4gIHJldHVybiAocy5ub3RpZmljYXRpb25zQnlVc2VyLmdldCh1c2VySWQpID8/IFtdKS5zbGljZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFya1Rlc3ROb3RpZmljYXRpb25SZWFkKGlkOiBzdHJpbmcpIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGlmICghcy5ub3RpZmljYXRpb25zQnlVc2VyKSBzLm5vdGlmaWNhdGlvbnNCeVVzZXIgPSBuZXcgTWFwPHN0cmluZywgYW55W10+KCk7XHJcbiAgZm9yIChjb25zdCBbdWlkLCBhcnJdIG9mIHMubm90aWZpY2F0aW9uc0J5VXNlci5lbnRyaWVzKCkpIHtcclxuICAgIGNvbnN0IGlkeCA9IGFyci5maW5kSW5kZXgoKG46IGFueSkgPT4gbi5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGlkeCA+PSAwKSB7XHJcbiAgICAgIGFycltpZHhdID0geyAuLi5hcnJbaWR4XSwgcmVhZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH07XHJcbiAgICAgIHMubm90aWZpY2F0aW9uc0J5VXNlci5zZXQodWlkLCBhcnIpO1xyXG4gICAgICByZXR1cm4gYXJyW2lkeF07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFya0FsbFRlc3ROb3RpZmljYXRpb25zUmVhZCh1c2VySWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgaWYgKCFzLm5vdGlmaWNhdGlvbnNCeVVzZXIpIHMubm90aWZpY2F0aW9uc0J5VXNlciA9IG5ldyBNYXA8c3RyaW5nLCBhbnlbXT4oKTtcclxuICBjb25zdCBhcnIgPSAocy5ub3RpZmljYXRpb25zQnlVc2VyLmdldCh1c2VySWQpID8/IFtdKS5tYXAoKG46IGFueSkgPT4gKHsgLi4ubiwgcmVhZF9hdDogbi5yZWFkX2F0ID8/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KSk7XHJcbiAgcy5ub3RpZmljYXRpb25zQnlVc2VyLnNldCh1c2VySWQsIGFycik7XHJcbiAgcmV0dXJuIHsgb2s6IHRydWUgfSBhcyBjb25zdDtcclxufVxyXG5cclxuLy8gPT09PT0gTm90aWZpY2F0aW9uIHByZWZlcmVuY2VzICh0ZXN0LW1vZGUpID09PT09XHJcbnR5cGUgVGVzdE5vdGlmaWNhdGlvblByZWZzID0geyBbdHlwZTogc3RyaW5nXTogYm9vbGVhbiB9O1xyXG5jb25zdCBERUZBVUxUX1BSRUZTOiBUZXN0Tm90aWZpY2F0aW9uUHJlZnMgPSB7XHJcbiAgJ2Fzc2lnbm1lbnQ6bmV3JzogdHJ1ZSxcclxuICAnc3VibWlzc2lvbjpncmFkZWQnOiB0cnVlLFxyXG4gICdtZXNzYWdlOm5ldyc6IHRydWUsXHJcbiAgJ2Fubm91bmNlbWVudDpwdWJsaXNoZWQnOiB0cnVlLFxyXG4gICdxdWl6OmR1ZS1zb29uJzogdHJ1ZVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlc3ROb3RpZmljYXRpb25QcmVmZXJlbmNlcyh1c2VySWQ6IHN0cmluZyk6IFRlc3ROb3RpZmljYXRpb25QcmVmcyB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBpZiAoIXMubm90aWZpY2F0aW9uUHJlZnNCeVVzZXIpIHMubm90aWZpY2F0aW9uUHJlZnNCeVVzZXIgPSBuZXcgTWFwPHN0cmluZywgVGVzdE5vdGlmaWNhdGlvblByZWZzPigpO1xyXG4gIGNvbnN0IGN1cnJlbnQgPSBzLm5vdGlmaWNhdGlvblByZWZzQnlVc2VyLmdldCh1c2VySWQpO1xyXG4gIGlmIChjdXJyZW50KSByZXR1cm4geyAuLi5ERUZBVUxUX1BSRUZTLCAuLi5jdXJyZW50IH07XHJcbiAgcmV0dXJuIHsgLi4uREVGQVVMVF9QUkVGUyB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0VGVzdE5vdGlmaWNhdGlvblByZWZlcmVuY2VzKHVzZXJJZDogc3RyaW5nLCBwYXJ0aWFsOiBUZXN0Tm90aWZpY2F0aW9uUHJlZnMpIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGlmICghcy5ub3RpZmljYXRpb25QcmVmc0J5VXNlcikgcy5ub3RpZmljYXRpb25QcmVmc0J5VXNlciA9IG5ldyBNYXA8c3RyaW5nLCBUZXN0Tm90aWZpY2F0aW9uUHJlZnM+KCk7XHJcbiAgY29uc3QgbWVyZ2VkID0geyAuLi5nZXRUZXN0Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXModXNlcklkKSwgLi4ucGFydGlhbCB9IGFzIFRlc3ROb3RpZmljYXRpb25QcmVmcztcclxuICBzLm5vdGlmaWNhdGlvblByZWZzQnlVc2VyLnNldCh1c2VySWQsIG1lcmdlZCk7XHJcbiAgcmV0dXJuIG1lcmdlZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZERlbGl2ZXJUZXN0Tm90aWZpY2F0aW9uKHVzZXJJZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICBjb25zdCBwcmVmcyA9IGdldFRlc3ROb3RpZmljYXRpb25QcmVmZXJlbmNlcyh1c2VySWQpO1xyXG4gIGNvbnN0IHZhbCA9IHByZWZzW3R5cGVdO1xyXG4gIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIXZhbDtcclxufVxyXG5cclxuLy8gQXNzaWdubWVudHMgaGVscGVyc1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdEFzc2lnbm1lbnQocm93OiBUZXN0QXNzaWdubWVudCkge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgY29uc3QgYXJyID0gcy5hc3NpZ25tZW50c0J5Q291cnNlLmdldChyb3cuY291cnNlX2lkKSA/PyBbXTtcclxuICBhcnIucHVzaChyb3cpO1xyXG4gIGFyci5zb3J0KChhOiBUZXN0QXNzaWdubWVudCwgYjogVGVzdEFzc2lnbm1lbnQpID0+IG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5jcmVhdGVkX2F0KS5nZXRUaW1lKCkpO1xyXG4gIHMuYXNzaWdubWVudHNCeUNvdXJzZS5zZXQocm93LmNvdXJzZV9pZCwgYXJyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RUZXN0QXNzaWdubWVudHNCeUNvdXJzZShjb3Vyc2VJZDogc3RyaW5nKTogVGVzdEFzc2lnbm1lbnRbXSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICByZXR1cm4gcy5hc3NpZ25tZW50c0J5Q291cnNlLmdldChjb3Vyc2VJZCkgPz8gW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVUZXN0QXNzaWdubWVudChpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPE9taXQ8VGVzdEFzc2lnbm1lbnQsICdpZCcgfCAnY291cnNlX2lkJyB8ICdjcmVhdGVkX2F0Jz4+KSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBmb3IgKGNvbnN0IFtjb3Vyc2VJZCwgYXJyXSBvZiBzLmFzc2lnbm1lbnRzQnlDb3Vyc2UuZW50cmllcygpKSB7XHJcbiAgICBjb25zdCBpZHggPSBhcnIuZmluZEluZGV4KCh4OiBUZXN0QXNzaWdubWVudCkgPT4geC5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGlkeCA+PSAwKSB7XHJcbiAgICAgIGNvbnN0IG5leHQgPSB7IC4uLmFycltpZHhdLCAuLi5kYXRhIH0gYXMgVGVzdEFzc2lnbm1lbnQ7XHJcbiAgICAgIGFycltpZHhdID0gbmV4dDtcclxuICAgICAgcy5hc3NpZ25tZW50c0J5Q291cnNlLnNldChjb3Vyc2VJZCwgYXJyKTtcclxuICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlVGVzdEFzc2lnbm1lbnQoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgZm9yIChjb25zdCBbY291cnNlSWQsIGFycl0gb2Ygcy5hc3NpZ25tZW50c0J5Q291cnNlLmVudHJpZXMoKSkge1xyXG4gICAgY29uc3QgbmV4dCA9IGFyci5maWx0ZXIoKHg6IFRlc3RBc3NpZ25tZW50KSA9PiB4LmlkICE9PSBpZCk7XHJcbiAgICBzLmFzc2lnbm1lbnRzQnlDb3Vyc2Uuc2V0KGNvdXJzZUlkLCBuZXh0KTtcclxuICB9XHJcbiAgcmV0dXJuIHsgb2s6IHRydWUgfSBhcyBjb25zdDtcclxufVxyXG5cclxuLy8gPT09PT0gRmlsZXMgKHRlc3QtbW9kZSkgPT09PT1cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRlc3RGaWxlKGlucHV0OiB7IG93bmVyX3R5cGU6IHN0cmluZzsgb3duZXJfaWQ6IHN0cmluZzsgY29udGVudF90eXBlOiBzdHJpbmc7IGRhdGFfYmFzZTY0OiBzdHJpbmcgfSkge1xyXG4gIGNvbnN0IGlkID0gbWFrZUlkKCdmJyk7XHJcbiAgY29uc3Qgcm93ID0geyBpZCwgb3duZXJfdHlwZTogaW5wdXQub3duZXJfdHlwZSwgb3duZXJfaWQ6IGlucHV0Lm93bmVyX2lkLCBjb250ZW50X3R5cGU6IGlucHV0LmNvbnRlbnRfdHlwZSwgZGF0YV9iYXNlNjQ6IGlucHV0LmRhdGFfYmFzZTY0LCBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfTtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIHMuZmlsZXNCeUlkLnNldChpZCwgcm93KTtcclxuICByZXR1cm4gcm93O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGVzdEZpbGUoaWQ6IHN0cmluZykge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgcmV0dXJuIHMuZmlsZXNCeUlkLmdldChpZCkgPz8gbnVsbDtcclxufVxyXG5cclxuLy8gU3VibWlzc2lvbnMgaGVscGVyc1xyXG5leHBvcnQgZnVuY3Rpb24gYWRkVGVzdFN1Ym1pc3Npb24ocm93OiBUZXN0U3VibWlzc2lvbikge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgY29uc3QgYXJyID0gcy5zdWJtaXNzaW9uc0J5QXNzaWdubWVudC5nZXQocm93LmFzc2lnbm1lbnRfaWQpID8/IFtdO1xyXG4gIGFyci51bnNoaWZ0KHJvdyk7XHJcbiAgcy5zdWJtaXNzaW9uc0J5QXNzaWdubWVudC5zZXQocm93LmFzc2lnbm1lbnRfaWQsIGFycik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0VGVzdFN1Ym1pc3Npb25zQnlBc3NpZ25tZW50KGFzc2lnbm1lbnRJZDogc3RyaW5nKTogVGVzdFN1Ym1pc3Npb25bXSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICByZXR1cm4gcy5zdWJtaXNzaW9uc0J5QXNzaWdubWVudC5nZXQoYXNzaWdubWVudElkKSA/PyBbXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdyYWRlVGVzdFN1Ym1pc3Npb24oaWQ6IHN0cmluZywgZGF0YTogeyBzY29yZTogbnVtYmVyOyBmZWVkYmFjaz86IHN0cmluZyB9KSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBmb3IgKGNvbnN0IFthaWQsIGFycl0gb2Ygcy5zdWJtaXNzaW9uc0J5QXNzaWdubWVudC5lbnRyaWVzKCkpIHtcclxuICAgIGNvbnN0IGlkeCA9IGFyci5maW5kSW5kZXgoKHg6IFRlc3RTdWJtaXNzaW9uKSA9PiB4LmlkID09PSBpZCk7XHJcbiAgICBpZiAoaWR4ID49IDApIHtcclxuICAgICAgY29uc3QgbmV4dCA9IHsgLi4uYXJyW2lkeF0sIHNjb3JlOiBkYXRhLnNjb3JlLCBmZWVkYmFjazogZGF0YS5mZWVkYmFjayA/PyBudWxsIH0gYXMgVGVzdFN1Ym1pc3Npb247XHJcbiAgICAgIGFycltpZHhdID0gbmV4dDtcclxuICAgICAgcy5zdWJtaXNzaW9uc0J5QXNzaWdubWVudC5zZXQoYWlkLCBhcnIpO1xyXG4gICAgICByZXR1cm4gbmV4dDtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8vID09PT09IFF1aXp6ZXMgaGVscGVycyAodGVzdC1tb2RlKSA9PT09PVxyXG50eXBlIFRlc3RRdWl6ID0geyBpZDogc3RyaW5nOyBjb3Vyc2VfaWQ6IHN0cmluZzsgdGl0bGU6IHN0cmluZzsgdGltZV9saW1pdF9zZWM/OiBudW1iZXIgfCBudWxsOyBwb2ludHM6IG51bWJlcjsgY3JlYXRlZF9hdDogc3RyaW5nIH07XHJcbnR5cGUgVGVzdFF1aXpRdWVzdGlvbiA9IHsgaWQ6IHN0cmluZzsgcXVpel9pZDogc3RyaW5nOyB0ZXh0OiBzdHJpbmc7IG9yZGVyX2luZGV4OiBudW1iZXIgfTtcclxudHlwZSBUZXN0UXVpekNob2ljZSA9IHsgaWQ6IHN0cmluZzsgcXVlc3Rpb25faWQ6IHN0cmluZzsgdGV4dDogc3RyaW5nOyBjb3JyZWN0OiBib29sZWFuOyBvcmRlcl9pbmRleDogbnVtYmVyIH07XHJcbnR5cGUgVGVzdFF1aXpBdHRlbXB0ID0geyBpZDogc3RyaW5nOyBxdWl6X2lkOiBzdHJpbmc7IHN0dWRlbnRfaWQ6IHN0cmluZzsgc3RhcnRlZF9hdDogc3RyaW5nOyBzdWJtaXR0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsOyBzY29yZTogbnVtYmVyIH07XHJcbnR5cGUgVGVzdFF1aXpBbnN3ZXIgPSB7IGlkOiBzdHJpbmc7IGF0dGVtcHRfaWQ6IHN0cmluZzsgcXVlc3Rpb25faWQ6IHN0cmluZzsgY2hvaWNlX2lkOiBzdHJpbmc7IGNyZWF0ZWRfYXQ6IHN0cmluZyB9O1xyXG5cclxuZnVuY3Rpb24gbWFrZUlkKF9wcmVmaXg6IHN0cmluZykge1xyXG4gIGNvbnN0IGhleCA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcclxuICBjb25zdCByYW5kID0gKG46IG51bWJlcikgPT4gQXJyYXkuZnJvbSh7IGxlbmd0aDogbiB9LCAoKSA9PiBoZXhbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaGV4Lmxlbmd0aCldKS5qb2luKCcnKTtcclxuICBjb25zdCBzMSA9IHJhbmQoOCk7XHJcbiAgY29uc3QgczIgPSByYW5kKDQpO1xyXG4gIGNvbnN0IHMzID0gcmFuZCg0KTtcclxuICBjb25zdCBzNCA9IHJhbmQoNCk7XHJcbiAgY29uc3QgczUgPSByYW5kKDEyKTtcclxuICByZXR1cm4gYCR7czF9LSR7czJ9LSR7czN9LSR7czR9LSR7czV9YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFF1aXooaW5wdXQ6IHsgY291cnNlX2lkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IHRpbWVfbGltaXRfc2VjPzogbnVtYmVyOyBwb2ludHM/OiBudW1iZXIgfSk6IFRlc3RRdWl6IHtcclxuICBjb25zdCByb3c6IFRlc3RRdWl6ID0ge1xyXG4gICAgaWQ6IG1ha2VJZCgncScpLFxyXG4gICAgY291cnNlX2lkOiBpbnB1dC5jb3Vyc2VfaWQsXHJcbiAgICB0aXRsZTogaW5wdXQudGl0bGUsXHJcbiAgICB0aW1lX2xpbWl0X3NlYzogaW5wdXQudGltZV9saW1pdF9zZWMgPz8gbnVsbCxcclxuICAgIHBvaW50czogaW5wdXQucG9pbnRzID8/IDEwMCxcclxuICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH07XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBjb25zdCBhcnIgPSBzLnF1aXp6ZXNCeUNvdXJzZS5nZXQocm93LmNvdXJzZV9pZCkgPz8gW107XHJcbiAgYXJyLnVuc2hpZnQocm93KTtcclxuICBzLnF1aXp6ZXNCeUNvdXJzZS5zZXQocm93LmNvdXJzZV9pZCwgYXJyKTtcclxuICByZXR1cm4gcm93O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdFF1aXp6ZXNCeUNvdXJzZShjb3Vyc2VJZDogc3RyaW5nKTogVGVzdFF1aXpbXSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICByZXR1cm4gKHMucXVpenplc0J5Q291cnNlLmdldChjb3Vyc2VJZCkgPz8gW10pLnNsaWNlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVRdWl6KGlkOiBzdHJpbmcsIGRhdGE6IHsgdGl0bGU/OiBzdHJpbmc7IHRpbWVfbGltaXRfc2VjPzogbnVtYmVyOyBwb2ludHM/OiBudW1iZXIgfSkge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgZm9yIChjb25zdCBbY291cnNlSWQsIGFycl0gb2Ygcy5xdWl6emVzQnlDb3Vyc2UuZW50cmllcygpKSB7XHJcbiAgICBjb25zdCBpZHggPSBhcnIuZmluZEluZGV4KChxOiBUZXN0UXVpeikgPT4gcS5pZCA9PT0gaWQpO1xyXG4gICAgaWYgKGlkeCA+PSAwKSB7XHJcbiAgICAgIGNvbnN0IHEgPSBhcnJbaWR4XTtcclxuICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4ucSwgLi4uZGF0YSB9IGFzIFRlc3RRdWl6O1xyXG4gICAgICBhcnJbaWR4XSA9IHVwZGF0ZWQ7XHJcbiAgICAgIHMucXVpenplc0J5Q291cnNlLnNldChjb3Vyc2VJZCwgYXJyKTtcclxuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlUXVpeihpZDogc3RyaW5nKSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBmb3IgKGNvbnN0IFtjb3Vyc2VJZCwgYXJyXSBvZiBzLnF1aXp6ZXNCeUNvdXJzZS5lbnRyaWVzKCkpIHtcclxuICAgIGNvbnN0IG5leHQgPSAoYXJyIGFzIFRlc3RRdWl6W10pLmZpbHRlcihxID0+IHEuaWQgIT09IGlkKTtcclxuICAgIGlmIChuZXh0Lmxlbmd0aCAhPT0gYXJyLmxlbmd0aCkge1xyXG4gICAgICBzLnF1aXp6ZXNCeUNvdXJzZS5zZXQoY291cnNlSWQsIG5leHQpO1xyXG4gICAgICAvLyBDYXNjYWRlOiByZW1vdmUgcXVlc3Rpb25zIGZvciB0aGlzIHF1aXpcclxuICAgICAgcy5xdWVzdGlvbnNCeVF1aXouZGVsZXRlKGlkKTtcclxuICAgICAgcmV0dXJuIHsgb2s6IHRydWUgfSBhcyBjb25zdDtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHsgb2s6IGZhbHNlIH0gYXMgY29uc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRRdWVzdGlvbihpbnB1dDogeyBxdWl6X2lkOiBzdHJpbmc7IHRleHQ6IHN0cmluZzsgb3JkZXJfaW5kZXg/OiBudW1iZXIgfSk6IFRlc3RRdWl6UXVlc3Rpb24ge1xyXG4gIGNvbnN0IHJvdzogVGVzdFF1aXpRdWVzdGlvbiA9IHsgaWQ6IG1ha2VJZCgncicpLCBxdWl6X2lkOiBpbnB1dC5xdWl6X2lkLCB0ZXh0OiBpbnB1dC50ZXh0LCBvcmRlcl9pbmRleDogaW5wdXQub3JkZXJfaW5kZXggPz8gMSB9O1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgY29uc3QgYXJyID0gcy5xdWVzdGlvbnNCeVF1aXouZ2V0KHJvdy5xdWl6X2lkKSA/PyBbXTtcclxuICBhcnIucHVzaChyb3cpO1xyXG4gIGFyci5zb3J0KChhOiBUZXN0UXVpelF1ZXN0aW9uLCBiOiBUZXN0UXVpelF1ZXN0aW9uKSA9PiBhLm9yZGVyX2luZGV4IC0gYi5vcmRlcl9pbmRleCk7XHJcbiAgcy5xdWVzdGlvbnNCeVF1aXouc2V0KHJvdy5xdWl6X2lkLCBhcnIpO1xyXG4gIHJldHVybiByb3c7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsaXN0UXVlc3Rpb25zQnlRdWl6KHF1aXpJZDogc3RyaW5nKTogVGVzdFF1aXpRdWVzdGlvbltdIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIHJldHVybiAocy5xdWVzdGlvbnNCeVF1aXouZ2V0KHF1aXpJZCkgPz8gW10pLnNsaWNlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDaG9pY2UoaW5wdXQ6IHsgcXVlc3Rpb25faWQ6IHN0cmluZzsgdGV4dDogc3RyaW5nOyBjb3JyZWN0OiBib29sZWFuOyBvcmRlcl9pbmRleD86IG51bWJlciB9KTogVGVzdFF1aXpDaG9pY2Uge1xyXG4gIGNvbnN0IHJvdzogVGVzdFF1aXpDaG9pY2UgPSB7IGlkOiBtYWtlSWQoJ3MnKSwgcXVlc3Rpb25faWQ6IGlucHV0LnF1ZXN0aW9uX2lkLCB0ZXh0OiBpbnB1dC50ZXh0LCBjb3JyZWN0OiBpbnB1dC5jb3JyZWN0LCBvcmRlcl9pbmRleDogaW5wdXQub3JkZXJfaW5kZXggPz8gMSB9O1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgY29uc3QgYXJyID0gcy5jaG9pY2VzQnlRdWVzdGlvbi5nZXQocm93LnF1ZXN0aW9uX2lkKSA/PyBbXTtcclxuICBhcnIucHVzaChyb3cpO1xyXG4gIGFyci5zb3J0KChhOiBUZXN0UXVpekNob2ljZSwgYjogVGVzdFF1aXpDaG9pY2UpID0+IGEub3JkZXJfaW5kZXggLSBiLm9yZGVyX2luZGV4KTtcclxuICBzLmNob2ljZXNCeVF1ZXN0aW9uLnNldChyb3cucXVlc3Rpb25faWQsIGFycik7XHJcbiAgcmV0dXJuIHJvdztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RDaG9pY2VzQnlRdWVzdGlvbihxdWVzdGlvbklkOiBzdHJpbmcpOiBUZXN0UXVpekNob2ljZVtdIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIHJldHVybiAocy5jaG9pY2VzQnlRdWVzdGlvbi5nZXQocXVlc3Rpb25JZCkgPz8gW10pLnNsaWNlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydEF0dGVtcHQoaW5wdXQ6IHsgcXVpel9pZDogc3RyaW5nOyBzdHVkZW50X2lkOiBzdHJpbmcgfSk6IFRlc3RRdWl6QXR0ZW1wdCB7XHJcbiAgY29uc3Qgcm93OiBUZXN0UXVpekF0dGVtcHQgPSB7IGlkOiBtYWtlSWQoJ3QnKSwgcXVpel9pZDogaW5wdXQucXVpel9pZCwgc3R1ZGVudF9pZDogaW5wdXQuc3R1ZGVudF9pZCwgc3RhcnRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBzdWJtaXR0ZWRfYXQ6IG51bGwsIHNjb3JlOiAwIH07XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICBjb25zdCBhcnIgPSBzLmF0dGVtcHRzQnlRdWl6LmdldChyb3cucXVpel9pZCkgPz8gW107XHJcbiAgYXJyLnB1c2gocm93KTtcclxuICBzLmF0dGVtcHRzQnlRdWl6LnNldChyb3cucXVpel9pZCwgYXJyKTtcclxuICByZXR1cm4gcm93O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBzZXJ0QW5zd2VyKGlucHV0OiB7IGF0dGVtcHRfaWQ6IHN0cmluZzsgcXVlc3Rpb25faWQ6IHN0cmluZzsgY2hvaWNlX2lkOiBzdHJpbmcgfSk6IFRlc3RRdWl6QW5zd2VyIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGNvbnN0IGFuc0FyciA9IHMuYW5zd2Vyc0J5QXR0ZW1wdC5nZXQoaW5wdXQuYXR0ZW1wdF9pZCkgPz8gW107XHJcbiAgY29uc3QgaWR4ID0gYW5zQXJyLmZpbmRJbmRleCgoYTogVGVzdFF1aXpBbnN3ZXIpID0+IGEucXVlc3Rpb25faWQgPT09IGlucHV0LnF1ZXN0aW9uX2lkKTtcclxuICBjb25zdCByb3c6IFRlc3RRdWl6QW5zd2VyID0gaWR4ID49IDAgPyB7IC4uLmFuc0FycltpZHhdLCBjaG9pY2VfaWQ6IGlucHV0LmNob2ljZV9pZCwgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0gOiB7XHJcbiAgICBpZDogbWFrZUlkKCd1JyksIGF0dGVtcHRfaWQ6IGlucHV0LmF0dGVtcHRfaWQsIHF1ZXN0aW9uX2lkOiBpbnB1dC5xdWVzdGlvbl9pZCwgY2hvaWNlX2lkOiBpbnB1dC5jaG9pY2VfaWQsIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gIH07XHJcbiAgaWYgKGlkeCA+PSAwKSBhbnNBcnJbaWR4XSA9IHJvdzsgZWxzZSBhbnNBcnIucHVzaChyb3cpO1xyXG4gIHMuYW5zd2Vyc0J5QXR0ZW1wdC5zZXQoaW5wdXQuYXR0ZW1wdF9pZCwgYW5zQXJyKTtcclxuICByZXR1cm4gcm93O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3VibWl0QXR0ZW1wdChpbnB1dDogeyBhdHRlbXB0X2lkOiBzdHJpbmcgfSk6IFRlc3RRdWl6QXR0ZW1wdCB8IG51bGwge1xyXG4gIGNvbnN0IHMgPSBzdGF0ZSBhcyBhbnk7XHJcbiAgbGV0IGF0dGVtcHQ6IFRlc3RRdWl6QXR0ZW1wdCB8IHVuZGVmaW5lZDtcclxuICBsZXQgcXVpeklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgZm9yIChjb25zdCBbcWlkLCBhcnJdIG9mIHMuYXR0ZW1wdHNCeVF1aXouZW50cmllcygpKSB7XHJcbiAgICBjb25zdCBmb3VuZCA9IChhcnIgYXMgVGVzdFF1aXpBdHRlbXB0W10pLmZpbmQoYSA9PiBhLmlkID09PSBpbnB1dC5hdHRlbXB0X2lkKTtcclxuICAgIGlmIChmb3VuZCkgeyBhdHRlbXB0ID0gZm91bmQ7IHF1aXpJZCA9IHFpZDsgYnJlYWs7IH1cclxuICB9XHJcbiAgaWYgKCFhdHRlbXB0IHx8ICFxdWl6SWQpIHJldHVybiBudWxsO1xyXG4gIGNvbnN0IHF1ZXN0aW9uczogVGVzdFF1aXpRdWVzdGlvbltdID0gcy5xdWVzdGlvbnNCeVF1aXouZ2V0KHF1aXpJZCkgPz8gW107XHJcbiAgY29uc3QgdG90YWwgPSBxdWVzdGlvbnMubGVuZ3RoO1xyXG4gIGNvbnN0IGFuc3dlcnM6IFRlc3RRdWl6QW5zd2VyW10gPSBzLmFuc3dlcnNCeUF0dGVtcHQuZ2V0KGF0dGVtcHQuaWQpID8/IFtdO1xyXG4gIGxldCBjb3JyZWN0ID0gMDtcclxuICBmb3IgKGNvbnN0IHEgb2YgcXVlc3Rpb25zKSB7XHJcbiAgICBjb25zdCBhID0gYW5zd2Vycy5maW5kKHggPT4geC5xdWVzdGlvbl9pZCA9PT0gcS5pZCk7XHJcbiAgICBpZiAoIWEpIGNvbnRpbnVlO1xyXG4gICAgY29uc3QgY2hvaWNlczogVGVzdFF1aXpDaG9pY2VbXSA9IHMuY2hvaWNlc0J5UXVlc3Rpb24uZ2V0KHEuaWQpID8/IFtdO1xyXG4gICAgY29uc3QgY29ycmVjdENob2ljZSA9IGNob2ljZXMuZmluZChjID0+IGMuY29ycmVjdCk7XHJcbiAgICBpZiAoY29ycmVjdENob2ljZSAmJiBhLmNob2ljZV9pZCA9PT0gY29ycmVjdENob2ljZS5pZCkgY29ycmVjdCsrO1xyXG4gIH1cclxuICBsZXQgcXVpelBvaW50cyA9IDEwMDtcclxuICBmb3IgKGNvbnN0IFssIHF1aXp6ZXNdIG9mIHMucXVpenplc0J5Q291cnNlLmVudHJpZXMoKSkge1xyXG4gICAgY29uc3QgbWF0Y2ggPSAocXVpenplcyBhcyBUZXN0UXVpeltdKS5maW5kKChxOiBUZXN0UXVpeikgPT4gcS5pZCA9PT0gcXVpeklkKTtcclxuICAgIGlmIChtYXRjaCkgeyBxdWl6UG9pbnRzID0gbWF0Y2gucG9pbnRzOyBicmVhazsgfVxyXG4gIH1cclxuICBjb25zdCBzY29yZSA9IHRvdGFsID4gMCA/IE1hdGgucm91bmQoKGNvcnJlY3QgLyB0b3RhbCkgKiBxdWl6UG9pbnRzKSA6IDA7XHJcbiAgYXR0ZW1wdC5zdWJtaXR0ZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgYXR0ZW1wdC5zY29yZSA9IHNjb3JlO1xyXG4gIHJldHVybiBhdHRlbXB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbGlzdEF0dGVtcHRzRm9yUXVpeihxdWl6X2lkOiBzdHJpbmcpOiBUZXN0UXVpekF0dGVtcHRbXSB7XHJcbiAgY29uc3QgcyA9IHN0YXRlIGFzIGFueTtcclxuICByZXR1cm4gKHMuYXR0ZW1wdHNCeVF1aXouZ2V0KHF1aXpfaWQpID8/IFtdKS5zbGljZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXR0ZW1wdEZvclN0dWRlbnQocXVpel9pZDogc3RyaW5nLCBzdHVkZW50X2lkOiBzdHJpbmcpOiBUZXN0UXVpekF0dGVtcHQgfCBudWxsIHtcclxuICBjb25zdCBzID0gc3RhdGUgYXMgYW55O1xyXG4gIGNvbnN0IGFycjogVGVzdFF1aXpBdHRlbXB0W10gPSBzLmF0dGVtcHRzQnlRdWl6LmdldChxdWl6X2lkKSA/PyBbXTtcclxuICBjb25zdCBtaW5lID0gYXJyLmZpbHRlcihhID0+IGEuc3R1ZGVudF9pZCA9PT0gc3R1ZGVudF9pZCk7XHJcbiAgaWYgKG1pbmUubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuICBtaW5lLnNvcnQoKGEsIGIpID0+IGIuc3RhcnRlZF9hdC5sb2NhbGVDb21wYXJlKGEuc3RhcnRlZF9hdCkpO1xyXG4gIHJldHVybiBtaW5lWzBdO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsiZ2xvYmFsU3RvcmUiLCJnbG9iYWxUaGlzIiwic3RhdGUiLCJfX1RFU1RfU1RPUkVfXyIsImNvdXJzZXMiLCJNYXAiLCJsZXNzb25zQnlDb3Vyc2UiLCJtb2R1bGVzQnlDb3Vyc2UiLCJlbnJvbGxtZW50c0J5U3R1ZGVudCIsImVucm9sbG1lbnRzQnlDb3Vyc2UiLCJwcm9maWxlc0J5SWQiLCJwYXJlbnRMaW5rc0J5UGFyZW50IiwiYW55U3RhdGUiLCJhc3NpZ25tZW50c0J5Q291cnNlIiwic3VibWlzc2lvbnNCeUFzc2lnbm1lbnQiLCJxdWl6emVzQnlDb3Vyc2UiLCJxdWVzdGlvbnNCeVF1aXoiLCJjaG9pY2VzQnlRdWVzdGlvbiIsImF0dGVtcHRzQnlRdWl6IiwiYW5zd2Vyc0J5QXR0ZW1wdCIsImFubm91bmNlbWVudHNCeUNvdXJzZSIsImZpbGVzQnlJZCIsIm1lc3NhZ2VUaHJlYWRzIiwicGFydGljaXBhbnRzQnlUaHJlYWQiLCJtZXNzYWdlc0J5VGhyZWFkIiwicmVhZEJ5TWVzc2FnZSIsImZlYXR1cmVGbGFncyIsImFkZFRlc3RDb3Vyc2UiLCJjb3Vyc2UiLCJzZXQiLCJpZCIsImdldFRlc3RDb3Vyc2UiLCJjb3Vyc2VJZCIsImdldCIsImxpc3RUZXN0Q291cnNlc0J5VGVhY2hlciIsInRlYWNoZXJJZCIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImZpbHRlciIsImMiLCJ0ZWFjaGVyX2lkIiwiYWRkVGVzdExlc3NvbiIsImxlc3NvbiIsImFyciIsImNvdXJzZV9pZCIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJvcmRlcl9pbmRleCIsImxpc3RUZXN0TGVzc29uc0J5Q291cnNlIiwicmVzZXRUZXN0U3RvcmUiLCJjbGVhciIsImRlbGV0ZVRlc3RDb3Vyc2UiLCJkZWxldGUiLCJyZW9yZGVyVGVzdExlc3NvbnMiLCJ1cGRhdGVzIiwiYnlJZCIsIm1hcCIsImwiLCJ1Iiwicm93IiwiYWRkVGVzdE1vZHVsZSIsImxpc3RUZXN0TW9kdWxlc0J5Q291cnNlIiwidXBkYXRlVGVzdE1vZHVsZSIsImRhdGEiLCJlbnRyaWVzIiwiaWR4IiwiZmluZEluZGV4IiwibSIsInVwZGF0ZWQiLCJ1bmRlZmluZWQiLCJkZWxldGVUZXN0TW9kdWxlIiwiZmlsdGVyZWQiLCJsZW5ndGgiLCJhZGRUZXN0RW5yb2xsbWVudCIsInN0dWRlbnRfaWQiLCJsaXN0VGVzdEVucm9sbG1lbnRzQnlTdHVkZW50Iiwic3R1ZGVudElkIiwibGlzdFRlc3RFbnJvbGxtZW50c0J5Q291cnNlIiwidXBzZXJ0VGVzdFByb2ZpbGUiLCJwcm9maWxlIiwiZ2V0VGVzdFByb2ZpbGUiLCJhZGRUZXN0UGFyZW50TGluayIsInBhcmVudF9pZCIsImxpc3RUZXN0UGFyZW50Q2hpbGRyZW4iLCJwYXJlbnRJZCIsInJlbW92ZVRlc3RQYXJlbnRMaW5rIiwieCIsImxpc3RUZXN0UGFyZW50c0ZvclN0dWRlbnQiLCJyZXMiLCJwaWQiLCJzb21lIiwicGwiLCJhZGRUZXN0QW5ub3VuY2VtZW50IiwicyIsInVuc2hpZnQiLCJsaXN0VGVzdEFubm91bmNlbWVudHNCeUNvdXJzZSIsInNsaWNlIiwiZGVsZXRlVGVzdEFubm91bmNlbWVudCIsImNpZCIsIm5leHQiLCJvayIsImNyZWF0ZVRlc3RUaHJlYWQiLCJwYXJ0aWNpcGFudElkcyIsInJvbGVzIiwibWFrZUlkIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInBhcnRzIiwidWlkIiwidGhyZWFkX2lkIiwidXNlcl9pZCIsInJvbGUiLCJhZGRlZF9hdCIsImxpc3RUZXN0VGhyZWFkc0J5VXNlciIsInVzZXJJZCIsInQiLCJwIiwibG9jYWxlQ29tcGFyZSIsImFkZFRlc3RNZXNzYWdlIiwibXNnIiwic2VuZGVyX2lkIiwiYm9keSIsInJlYWRfYXQiLCJTZXQiLCJsaXN0VGVzdE1lc3NhZ2VzQnlUaHJlYWQiLCJ0aHJlYWRJZCIsIm1hcmtUZXN0TWVzc2FnZVJlYWRGb3JVc2VyIiwibWVzc2FnZUlkIiwiYWRkIiwidGlkIiwiY291bnRVbnJlYWRGb3JUaHJlYWQiLCJtc2dzIiwiY291bnQiLCJyZWFkU2V0IiwiaGFzIiwibWFya0FsbFRocmVhZE1lc3NhZ2VzUmVhZEZvclVzZXIiLCJsaXN0VGVzdEZlYXR1cmVGbGFncyIsIm9iaiIsImsiLCJ2Iiwic2V0VGVzdEZlYXR1cmVGbGFnIiwia2V5IiwidmFsdWUiLCJsaXN0VGVzdFBhcnRpY2lwYW50c0J5VGhyZWFkIiwiYWRkVGVzdE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbnNCeVVzZXIiLCJ0eXBlIiwicGF5bG9hZCIsImxpc3RUZXN0Tm90aWZpY2F0aW9uc0J5VXNlciIsIm1hcmtUZXN0Tm90aWZpY2F0aW9uUmVhZCIsIm4iLCJtYXJrQWxsVGVzdE5vdGlmaWNhdGlvbnNSZWFkIiwiREVGQVVMVF9QUkVGUyIsImdldFRlc3ROb3RpZmljYXRpb25QcmVmZXJlbmNlcyIsIm5vdGlmaWNhdGlvblByZWZzQnlVc2VyIiwiY3VycmVudCIsInNldFRlc3ROb3RpZmljYXRpb25QcmVmZXJlbmNlcyIsInBhcnRpYWwiLCJtZXJnZWQiLCJzaG91bGREZWxpdmVyVGVzdE5vdGlmaWNhdGlvbiIsInByZWZzIiwidmFsIiwiYWRkVGVzdEFzc2lnbm1lbnQiLCJnZXRUaW1lIiwibGlzdFRlc3RBc3NpZ25tZW50c0J5Q291cnNlIiwidXBkYXRlVGVzdEFzc2lnbm1lbnQiLCJkZWxldGVUZXN0QXNzaWdubWVudCIsImFkZFRlc3RGaWxlIiwiaW5wdXQiLCJvd25lcl90eXBlIiwib3duZXJfaWQiLCJjb250ZW50X3R5cGUiLCJkYXRhX2Jhc2U2NCIsImdldFRlc3RGaWxlIiwiYWRkVGVzdFN1Ym1pc3Npb24iLCJhc3NpZ25tZW50X2lkIiwibGlzdFRlc3RTdWJtaXNzaW9uc0J5QXNzaWdubWVudCIsImFzc2lnbm1lbnRJZCIsImdyYWRlVGVzdFN1Ym1pc3Npb24iLCJhaWQiLCJzY29yZSIsImZlZWRiYWNrIiwiX3ByZWZpeCIsImhleCIsInJhbmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqb2luIiwiczEiLCJzMiIsInMzIiwiczQiLCJzNSIsImFkZFF1aXoiLCJ0aXRsZSIsInRpbWVfbGltaXRfc2VjIiwicG9pbnRzIiwibGlzdFF1aXp6ZXNCeUNvdXJzZSIsInVwZGF0ZVF1aXoiLCJxIiwiZGVsZXRlUXVpeiIsImFkZFF1ZXN0aW9uIiwicXVpel9pZCIsInRleHQiLCJsaXN0UXVlc3Rpb25zQnlRdWl6IiwicXVpeklkIiwiYWRkQ2hvaWNlIiwicXVlc3Rpb25faWQiLCJjb3JyZWN0IiwibGlzdENob2ljZXNCeVF1ZXN0aW9uIiwicXVlc3Rpb25JZCIsInN0YXJ0QXR0ZW1wdCIsInN0YXJ0ZWRfYXQiLCJzdWJtaXR0ZWRfYXQiLCJ1cHNlcnRBbnN3ZXIiLCJhbnNBcnIiLCJhdHRlbXB0X2lkIiwiY2hvaWNlX2lkIiwic3VibWl0QXR0ZW1wdCIsImF0dGVtcHQiLCJxaWQiLCJmb3VuZCIsImZpbmQiLCJxdWVzdGlvbnMiLCJ0b3RhbCIsImFuc3dlcnMiLCJjaG9pY2VzIiwiY29ycmVjdENob2ljZSIsInF1aXpQb2ludHMiLCJxdWl6emVzIiwibWF0Y2giLCJyb3VuZCIsImxpc3RBdHRlbXB0c0ZvclF1aXoiLCJnZXRBdHRlbXB0Rm9yU3R1ZGVudCIsIm1pbmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/testStore.ts\n");

/***/ })

};
;
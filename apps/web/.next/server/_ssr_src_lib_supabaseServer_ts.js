"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_lib_supabaseServer_ts";
exports.ids = ["_ssr_src_lib_supabaseServer_ts"];
exports.modules = {

/***/ "(ssr)/./src/lib/env.ts":
/*!************************!*\
  !*** ./src/lib/env.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   env: () => (/* binding */ env)\n/* harmony export */ });\n/* harmony import */ var _education_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @education/shared */ \"(ssr)/../../packages/shared/src/index.ts\");\n/**\r\n * Environment configuration for Supabase access.\r\n *\r\n * Reads from public NEXT envs when present; falls back to defaults for\r\n * local development and automated tests.\r\n */ \nconst env = (0,_education_shared__WEBPACK_IMPORTED_MODULE_0__.loadServerEnv)();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2Vudi50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOzs7OztDQUtDLEdBQ2lEO0FBRTNDLE1BQU1DLE1BQU1ELGdFQUFhQSxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViLy4vc3JjL2xpYi9lbnYudHM/ODQ4NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRW52aXJvbm1lbnQgY29uZmlndXJhdGlvbiBmb3IgU3VwYWJhc2UgYWNjZXNzLlxyXG4gKlxyXG4gKiBSZWFkcyBmcm9tIHB1YmxpYyBORVhUIGVudnMgd2hlbiBwcmVzZW50OyBmYWxscyBiYWNrIHRvIGRlZmF1bHRzIGZvclxyXG4gKiBsb2NhbCBkZXZlbG9wbWVudCBhbmQgYXV0b21hdGVkIHRlc3RzLlxyXG4gKi9cclxuaW1wb3J0IHsgbG9hZFNlcnZlckVudiB9IGZyb20gXCJAZWR1Y2F0aW9uL3NoYXJlZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudiA9IGxvYWRTZXJ2ZXJFbnYoKTtcclxuXHJcblxyXG4iXSwibmFtZXMiOlsibG9hZFNlcnZlckVudiIsImVudiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/env.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/supabaseServer.ts":
/*!***********************************!*\
  !*** ./src/lib/supabaseServer.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   getCurrentUserInRoute: () => (/* binding */ getCurrentUserInRoute),\n/* harmony export */   getRouteHandlerSupabase: () => (/* binding */ getRouteHandlerSupabase),\n/* harmony export */   getServerComponentSupabase: () => (/* binding */ getServerComponentSupabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/auth-helpers-nextjs */ \"(ssr)/../../node_modules/@supabase/auth-helpers-nextjs/dist/index.js\");\n/* harmony import */ var _supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/env */ \"(ssr)/./src/lib/env.ts\");\n/**\r\n * Supabase server helpers\r\n *\r\n * Centralizes creation of Supabase clients for Server Components and\r\n * Route Handlers, and helpers to obtain the current user. In test mode,\r\n * user identity can be simulated via the `x-test-auth` header/cookie.\r\n */ // Guarded imports to avoid pulling server-only modules into client bundles\n// By keeping this file server-only referenced from server components or route handlers,\n// we still avoid client usage, but Next's bundler sometimes follows transitive imports via\n// client components. Use dynamic require to harden against accidental inclusion.\nlet cookies;\nlet headers;\ntry {\n    const nh = __webpack_require__(/*! next/headers */ \"(ssr)/../../node_modules/next/dist/api/headers.js\");\n    cookies = nh.cookies;\n    headers = nh.headers;\n} catch  {\n// No-op in non-server contexts; functions below should not be called client-side\n}\n\n\n/** Create a Supabase client for use in Server Components. */ function getServerComponentSupabase() {\n    const supabaseUrl = _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.NEXT_PUBLIC_SUPABASE_URL;\n    const supabaseKey = _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n    return (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__.createServerComponentClient)({\n        cookies\n    }, {\n        supabaseUrl,\n        supabaseKey\n    });\n}\n/** Create a Supabase client for use in Route Handlers. */ function getRouteHandlerSupabase() {\n    const supabaseUrl = _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.NEXT_PUBLIC_SUPABASE_URL;\n    const supabaseKey = _lib_env__WEBPACK_IMPORTED_MODULE_1__.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n    return (0,_supabase_auth_helpers_nextjs__WEBPACK_IMPORTED_MODULE_0__.createRouteHandlerClient)({\n        cookies\n    }, {\n        supabaseUrl,\n        supabaseKey\n    });\n}\n/**\r\n * Get the current authenticated user in a Server Component context.\r\n * In test mode, returns a simulated user based on `x-test-auth`.\r\n */ async function getCurrentUser() {\n    const cookieStore = cookies();\n    const testAuth = cookieStore.get(\"x-test-auth\")?.value ?? headers().get(\"x-test-auth\") ?? undefined;\n    if (testAuth === \"teacher\" || testAuth === \"student\" || testAuth === \"parent\" || testAuth === \"admin\") {\n        const email = `${testAuth}@example.com`;\n        // Align with tests that expect deterministic ids like 'test-student-id'\n        const roleToId = {\n            teacher: \"test-teacher-id\",\n            student: \"test-student-id\",\n            parent: \"test-parent-id\",\n            admin: \"test-admin-id\"\n        };\n        const id = roleToId[testAuth];\n        return {\n            id,\n            email,\n            user_metadata: {\n                role: testAuth\n            }\n        };\n    }\n    const supabase = getServerComponentSupabase();\n    const { data } = await supabase.auth.getUser();\n    return data.user;\n}\n/**\r\n * Get the current authenticated user in a Route Handler context.\r\n * In test mode, returns a simulated user based on `x-test-auth`.\r\n */ async function getCurrentUserInRoute(req) {\n    const cookieStore = cookies();\n    const hdrs = req?.headers ?? headers();\n    const testAuth = cookieStore.get(\"x-test-auth\")?.value ?? hdrs.get(\"x-test-auth\") ?? undefined;\n    if (testAuth === \"teacher\" || testAuth === \"student\" || testAuth === \"parent\" || testAuth === \"admin\") {\n        const email = `${testAuth}@example.com`;\n        const roleToId = {\n            teacher: \"test-teacher-id\",\n            student: \"test-student-id\",\n            parent: \"test-parent-id\",\n            admin: \"test-admin-id\"\n        };\n        const id = roleToId[testAuth];\n        return {\n            id,\n            email,\n            user_metadata: {\n                role: testAuth\n            }\n        };\n    }\n    const supabase = getRouteHandlerSupabase();\n    const { data } = await supabase.auth.getUser();\n    return data.user;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3N1cGFiYXNlU2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0NBTUMsR0FDRCwyRUFBMkU7QUFDM0Usd0ZBQXdGO0FBQ3hGLDJGQUEyRjtBQUMzRixpRkFBaUY7QUFDakYsSUFBSUE7QUFDSixJQUFJQztBQUNKLElBQUk7SUFDRixNQUFNQyxLQUFVQyxtQkFBT0EsQ0FBQztJQUN4QkgsVUFBVUUsR0FBR0YsT0FBTztJQUNwQkMsVUFBVUMsR0FBR0QsT0FBTztBQUN0QixFQUFFLE9BQU07QUFDTixpRkFBaUY7QUFDbkY7QUFFc0c7QUFDdEU7QUFHaEMsMkRBQTJELEdBQ3BELFNBQVNNO0lBQ2QsTUFBTUMsY0FBY0YseUNBQUdBLENBQUNHLHdCQUF3QjtJQUNoRCxNQUFNQyxjQUFjSix5Q0FBR0EsQ0FBQ0ssNkJBQTZCO0lBQ3JELE9BQU9QLDBGQUEyQkEsQ0FBQztRQUFFSjtJQUFRLEdBQUc7UUFBRVE7UUFBYUU7SUFBWTtBQUM3RTtBQUVBLHdEQUF3RCxHQUNqRCxTQUFTRTtJQUNkLE1BQU1KLGNBQWNGLHlDQUFHQSxDQUFDRyx3QkFBd0I7SUFDaEQsTUFBTUMsY0FBY0oseUNBQUdBLENBQUNLLDZCQUE2QjtJQUNyRCxPQUFPTix1RkFBd0JBLENBQUM7UUFBRUw7SUFBUSxHQUFHO1FBQUVRO1FBQWFFO0lBQVk7QUFDMUU7QUFJQTs7O0NBR0MsR0FDTSxlQUFlRztJQUNwQixNQUFNQyxjQUFjZDtJQUNwQixNQUFNZSxXQUFXRCxZQUFZRSxHQUFHLENBQUMsZ0JBQWdCQyxTQUFTaEIsVUFBVWUsR0FBRyxDQUFDLGtCQUFrQkU7SUFDMUYsSUFBS0gsYUFBYSxhQUFhQSxhQUFhLGFBQWFBLGFBQWEsWUFBWUEsYUFBYSxTQUFVO1FBQ3ZHLE1BQU1JLFFBQVEsQ0FBQyxFQUFFSixTQUFTLFlBQVksQ0FBQztRQUN2Qyx3RUFBd0U7UUFDeEUsTUFBTUssV0FBbUM7WUFDdkNDLFNBQVM7WUFDVEMsU0FBUztZQUNUQyxRQUFTO1lBQ1RDLE9BQVM7UUFDWDtRQUNBLE1BQU1DLEtBQUtMLFFBQVEsQ0FBQ0wsU0FBUztRQUM3QixPQUFPO1lBQUVVO1lBQUlOO1lBQU9PLGVBQWU7Z0JBQUVDLE1BQU1aO1lBQVM7UUFBRTtJQUN4RDtJQUNBLE1BQU1hLFdBQVdyQjtJQUNqQixNQUFNLEVBQUVzQixJQUFJLEVBQUUsR0FBRyxNQUFNRCxTQUFTRSxJQUFJLENBQUNDLE9BQU87SUFDNUMsT0FBT0YsS0FBS0csSUFBSTtBQUNsQjtBQUVBOzs7Q0FHQyxHQUNNLGVBQWVDLHNCQUFzQkMsR0FBaUI7SUFDM0QsTUFBTXBCLGNBQWNkO0lBQ3BCLE1BQU1tQyxPQUFPRCxLQUFLakMsV0FBV0E7SUFDN0IsTUFBTWMsV0FBV0QsWUFBWUUsR0FBRyxDQUFDLGdCQUFnQkMsU0FBU2tCLEtBQUtuQixHQUFHLENBQUMsa0JBQWtCRTtJQUNyRixJQUFLSCxhQUFhLGFBQWFBLGFBQWEsYUFBYUEsYUFBYSxZQUFZQSxhQUFhLFNBQVU7UUFDdkcsTUFBTUksUUFBUSxDQUFDLEVBQUVKLFNBQVMsWUFBWSxDQUFDO1FBQ3ZDLE1BQU1LLFdBQW1DO1lBQ3ZDQyxTQUFTO1lBQ1RDLFNBQVM7WUFDVEMsUUFBUztZQUNUQyxPQUFTO1FBQ1g7UUFDQSxNQUFNQyxLQUFLTCxRQUFRLENBQUNMLFNBQVM7UUFDN0IsT0FBTztZQUFFVTtZQUFJTjtZQUFPTyxlQUFlO2dCQUFFQyxNQUFNWjtZQUFTO1FBQUU7SUFDeEQ7SUFDQSxNQUFNYSxXQUFXaEI7SUFDakIsTUFBTSxFQUFFaUIsSUFBSSxFQUFFLEdBQUcsTUFBTUQsU0FBU0UsSUFBSSxDQUFDQyxPQUFPO0lBQzVDLE9BQU9GLEtBQUtHLElBQUk7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWIvLi9zcmMvbGliL3N1cGFiYXNlU2VydmVyLnRzPzFiMzIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFN1cGFiYXNlIHNlcnZlciBoZWxwZXJzXHJcbiAqXHJcbiAqIENlbnRyYWxpemVzIGNyZWF0aW9uIG9mIFN1cGFiYXNlIGNsaWVudHMgZm9yIFNlcnZlciBDb21wb25lbnRzIGFuZFxyXG4gKiBSb3V0ZSBIYW5kbGVycywgYW5kIGhlbHBlcnMgdG8gb2J0YWluIHRoZSBjdXJyZW50IHVzZXIuIEluIHRlc3QgbW9kZSxcclxuICogdXNlciBpZGVudGl0eSBjYW4gYmUgc2ltdWxhdGVkIHZpYSB0aGUgYHgtdGVzdC1hdXRoYCBoZWFkZXIvY29va2llLlxyXG4gKi9cclxuLy8gR3VhcmRlZCBpbXBvcnRzIHRvIGF2b2lkIHB1bGxpbmcgc2VydmVyLW9ubHkgbW9kdWxlcyBpbnRvIGNsaWVudCBidW5kbGVzXHJcbi8vIEJ5IGtlZXBpbmcgdGhpcyBmaWxlIHNlcnZlci1vbmx5IHJlZmVyZW5jZWQgZnJvbSBzZXJ2ZXIgY29tcG9uZW50cyBvciByb3V0ZSBoYW5kbGVycyxcclxuLy8gd2Ugc3RpbGwgYXZvaWQgY2xpZW50IHVzYWdlLCBidXQgTmV4dCdzIGJ1bmRsZXIgc29tZXRpbWVzIGZvbGxvd3MgdHJhbnNpdGl2ZSBpbXBvcnRzIHZpYVxyXG4vLyBjbGllbnQgY29tcG9uZW50cy4gVXNlIGR5bmFtaWMgcmVxdWlyZSB0byBoYXJkZW4gYWdhaW5zdCBhY2NpZGVudGFsIGluY2x1c2lvbi5cclxubGV0IGNvb2tpZXM6IGFueTtcclxubGV0IGhlYWRlcnM6IGFueTtcclxudHJ5IHtcclxuICBjb25zdCBuaDogYW55ID0gcmVxdWlyZSgnbmV4dC9oZWFkZXJzJyk7XHJcbiAgY29va2llcyA9IG5oLmNvb2tpZXM7XHJcbiAgaGVhZGVycyA9IG5oLmhlYWRlcnM7XHJcbn0gY2F0Y2gge1xyXG4gIC8vIE5vLW9wIGluIG5vbi1zZXJ2ZXIgY29udGV4dHM7IGZ1bmN0aW9ucyBiZWxvdyBzaG91bGQgbm90IGJlIGNhbGxlZCBjbGllbnQtc2lkZVxyXG59XHJcbmltcG9ydCB7IGlzVGVzdE1vZGUgfSBmcm9tIFwiQC9saWIvdGVzdE1vZGVcIjtcclxuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ29tcG9uZW50Q2xpZW50LCBjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL2F1dGgtaGVscGVycy1uZXh0anNcIjtcclxuaW1wb3J0IHsgZW52IH0gZnJvbSBcIkAvbGliL2VudlwiO1xyXG5pbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcblxyXG4vKiogQ3JlYXRlIGEgU3VwYWJhc2UgY2xpZW50IGZvciB1c2UgaW4gU2VydmVyIENvbXBvbmVudHMuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXJ2ZXJDb21wb25lbnRTdXBhYmFzZSgpIHtcclxuICBjb25zdCBzdXBhYmFzZVVybCA9IGVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkw7XHJcbiAgY29uc3Qgc3VwYWJhc2VLZXkgPSBlbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XHJcbiAgcmV0dXJuIGNyZWF0ZVNlcnZlckNvbXBvbmVudENsaWVudCh7IGNvb2tpZXMgfSwgeyBzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXkgfSk7XHJcbn1cclxuXHJcbi8qKiBDcmVhdGUgYSBTdXBhYmFzZSBjbGllbnQgZm9yIHVzZSBpbiBSb3V0ZSBIYW5kbGVycy4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvdXRlSGFuZGxlclN1cGFiYXNlKCkge1xyXG4gIGNvbnN0IHN1cGFiYXNlVXJsID0gZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcclxuICBjb25zdCBzdXBhYmFzZUtleSA9IGVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcclxuICByZXR1cm4gY3JlYXRlUm91dGVIYW5kbGVyQ2xpZW50KHsgY29va2llcyB9LCB7IHN1cGFiYXNlVXJsLCBzdXBhYmFzZUtleSB9KTtcclxufVxyXG5cclxudHlwZSBDdXJyZW50VXNlciA9IHsgaWQ6IHN0cmluZzsgZW1haWw6IHN0cmluZzsgdXNlcl9tZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+IH0gfCBudWxsO1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgY3VycmVudCBhdXRoZW50aWNhdGVkIHVzZXIgaW4gYSBTZXJ2ZXIgQ29tcG9uZW50IGNvbnRleHQuXHJcbiAqIEluIHRlc3QgbW9kZSwgcmV0dXJucyBhIHNpbXVsYXRlZCB1c2VyIGJhc2VkIG9uIGB4LXRlc3QtYXV0aGAuXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKTogUHJvbWlzZTxDdXJyZW50VXNlcj4ge1xyXG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gY29va2llcygpO1xyXG4gIGNvbnN0IHRlc3RBdXRoID0gY29va2llU3RvcmUuZ2V0KFwieC10ZXN0LWF1dGhcIik/LnZhbHVlID8/IGhlYWRlcnMoKS5nZXQoXCJ4LXRlc3QtYXV0aFwiKSA/PyB1bmRlZmluZWQ7XHJcbiAgaWYgKCh0ZXN0QXV0aCA9PT0gXCJ0ZWFjaGVyXCIgfHwgdGVzdEF1dGggPT09IFwic3R1ZGVudFwiIHx8IHRlc3RBdXRoID09PSBcInBhcmVudFwiIHx8IHRlc3RBdXRoID09PSBcImFkbWluXCIpKSB7XHJcbiAgICBjb25zdCBlbWFpbCA9IGAke3Rlc3RBdXRofUBleGFtcGxlLmNvbWA7XHJcbiAgICAvLyBBbGlnbiB3aXRoIHRlc3RzIHRoYXQgZXhwZWN0IGRldGVybWluaXN0aWMgaWRzIGxpa2UgJ3Rlc3Qtc3R1ZGVudC1pZCdcclxuICAgIGNvbnN0IHJvbGVUb0lkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICB0ZWFjaGVyOiBcInRlc3QtdGVhY2hlci1pZFwiLFxyXG4gICAgICBzdHVkZW50OiBcInRlc3Qtc3R1ZGVudC1pZFwiLFxyXG4gICAgICBwYXJlbnQ6ICBcInRlc3QtcGFyZW50LWlkXCIsXHJcbiAgICAgIGFkbWluOiAgIFwidGVzdC1hZG1pbi1pZFwiLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGlkID0gcm9sZVRvSWRbdGVzdEF1dGhdO1xyXG4gICAgcmV0dXJuIHsgaWQsIGVtYWlsLCB1c2VyX21ldGFkYXRhOiB7IHJvbGU6IHRlc3RBdXRoIH0gfTtcclxuICB9XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTZXJ2ZXJDb21wb25lbnRTdXBhYmFzZSgpO1xyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgcmV0dXJuIGRhdGEudXNlciBhcyBhbnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRlZCB1c2VyIGluIGEgUm91dGUgSGFuZGxlciBjb250ZXh0LlxyXG4gKiBJbiB0ZXN0IG1vZGUsIHJldHVybnMgYSBzaW11bGF0ZWQgdXNlciBiYXNlZCBvbiBgeC10ZXN0LWF1dGhgLlxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VySW5Sb3V0ZShyZXE/OiBOZXh0UmVxdWVzdCk6IFByb21pc2U8Q3VycmVudFVzZXI+IHtcclxuICBjb25zdCBjb29raWVTdG9yZSA9IGNvb2tpZXMoKTtcclxuICBjb25zdCBoZHJzID0gcmVxPy5oZWFkZXJzID8/IGhlYWRlcnMoKTtcclxuICBjb25zdCB0ZXN0QXV0aCA9IGNvb2tpZVN0b3JlLmdldChcIngtdGVzdC1hdXRoXCIpPy52YWx1ZSA/PyBoZHJzLmdldChcIngtdGVzdC1hdXRoXCIpID8/IHVuZGVmaW5lZDtcclxuICBpZiAoKHRlc3RBdXRoID09PSBcInRlYWNoZXJcIiB8fCB0ZXN0QXV0aCA9PT0gXCJzdHVkZW50XCIgfHwgdGVzdEF1dGggPT09IFwicGFyZW50XCIgfHwgdGVzdEF1dGggPT09IFwiYWRtaW5cIikpIHtcclxuICAgIGNvbnN0IGVtYWlsID0gYCR7dGVzdEF1dGh9QGV4YW1wbGUuY29tYDtcclxuICAgIGNvbnN0IHJvbGVUb0lkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICB0ZWFjaGVyOiBcInRlc3QtdGVhY2hlci1pZFwiLFxyXG4gICAgICBzdHVkZW50OiBcInRlc3Qtc3R1ZGVudC1pZFwiLFxyXG4gICAgICBwYXJlbnQ6ICBcInRlc3QtcGFyZW50LWlkXCIsXHJcbiAgICAgIGFkbWluOiAgIFwidGVzdC1hZG1pbi1pZFwiLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IGlkID0gcm9sZVRvSWRbdGVzdEF1dGhdO1xyXG4gICAgcmV0dXJuIHsgaWQsIGVtYWlsLCB1c2VyX21ldGFkYXRhOiB7IHJvbGU6IHRlc3RBdXRoIH0gfTtcclxuICB9XHJcbiAgY29uc3Qgc3VwYWJhc2UgPSBnZXRSb3V0ZUhhbmRsZXJTdXBhYmFzZSgpO1xyXG4gIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgcmV0dXJuIGRhdGEudXNlciBhcyBhbnk7XHJcbn1cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiY29va2llcyIsImhlYWRlcnMiLCJuaCIsInJlcXVpcmUiLCJjcmVhdGVTZXJ2ZXJDb21wb25lbnRDbGllbnQiLCJjcmVhdGVSb3V0ZUhhbmRsZXJDbGllbnQiLCJlbnYiLCJnZXRTZXJ2ZXJDb21wb25lbnRTdXBhYmFzZSIsInN1cGFiYXNlVXJsIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VLZXkiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldFJvdXRlSGFuZGxlclN1cGFiYXNlIiwiZ2V0Q3VycmVudFVzZXIiLCJjb29raWVTdG9yZSIsInRlc3RBdXRoIiwiZ2V0IiwidmFsdWUiLCJ1bmRlZmluZWQiLCJlbWFpbCIsInJvbGVUb0lkIiwidGVhY2hlciIsInN0dWRlbnQiLCJwYXJlbnQiLCJhZG1pbiIsImlkIiwidXNlcl9tZXRhZGF0YSIsInJvbGUiLCJzdXBhYmFzZSIsImRhdGEiLCJhdXRoIiwiZ2V0VXNlciIsInVzZXIiLCJnZXRDdXJyZW50VXNlckluUm91dGUiLCJyZXEiLCJoZHJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/supabaseServer.ts\n");

/***/ })

};
;